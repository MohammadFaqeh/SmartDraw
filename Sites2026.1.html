<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جمعية المحافظة على القرآن الكريم | منصة السحب الإلكتروني</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary-color: #2c7744;
            --secondary-color: #5a9c6e;
            --light-color: #eaf4e8;
            --dark-color: #1a472a;
            --gold-color: #d4af37;
            --text-color: #333;
            --bg-light: #f8f9fa;
            --card-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%232c7744' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* تصميم صفحة الدخول */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
        }

        .login-box {
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 30px;
            width: 100%;
            max-width: 450px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .login-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(to right, var(--gold-color), var(--primary-color));
        }

        .login-logo {
            margin-bottom: 25px;
        }

        .login-logo h1 {
            color: var(--primary-color);
            font-size: 28px;
            margin-bottom: 5px;
        }

        .login-logo h2 {
            color: var(--secondary-color);
            font-size: 20px;
            font-weight: 500;
        }
        
        .login-logo h3 {
            color: var(--dark-color);
            font-size: 18px;
            margin-top: 10px;
            font-weight: 500;
        }

        .login-form .form-group {
            margin-bottom: 20px;
            text-align: right;
        }

        .login-form label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-color);
            font-weight: 500;
        }

        .login-form input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
            background-color: var(--bg-light);
            color: var(--text-color);
        }

        .login-form input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .login-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
            margin-top: 10px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            background: linear-gradient(to right, var(--dark-color), var(--primary-color));
        }

        .quran-icon {
            font-size: 50px;
            color: var(--gold-color);
            margin-bottom: 15px;
        }

        /* تصميم الواجهة الرئيسية */
        .main-content {
            display: none;
            padding-top: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--light-color);
        }

        .header-info {
            display: flex;
            flex-direction: column;
        }

        .datetime {
            font-size: 18px;
            color: var(--primary-color);
            font-weight: 500;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-color);
            background: var(--light-color);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .settings {
            display: flex;
            gap: 10px;
        }

        .setting-btn {
            background: var(--light-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 18px;
            transition: background 0.3s;
        }

        .setting-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .page-title {
            text-align: center;
            margin: 25px 0 40px;
            position: relative;
        }

        .page-title h1 {
            font-size: 32px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .page-title h2 {
            font-size: 24px;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .page-title::after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--gold-color), var(--primary-color));
            border-radius: 2px;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            border: none;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-10px);
        }

        .card-header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 22px;
            font-weight: 600;
        }

        .card-body {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-icon {
            font-size: 50px;
            color: var(--primary-color);
            text-align: center;
            margin: 20px 0;
        }

        .card-description {
            text-align: center;
            margin-bottom: 30px;
            line-height: 1.6;
            flex-grow: 1;
        }

        .card-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--light-color);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            color: var(--primary-color);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s, color 0.3s;
            text-align: center;
        }

        .card-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        /* تصميم محتوى البطاقات */
        .card-content {
            display: none;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: var(--shadow);
        }

        .back-btn {
            background: var(--light-color);
            border: none;
            border-radius: 8px;
            padding: 8px 20px;
            color: var(--primary-color);
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .back-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background: var(--bg-light);
            color: var(--text-color);
        }

        .form-group input:focus, 
        .form-group select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .parts-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .part-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .draw-btn {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 8px;
            padding: 15px 30px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            transition: transform 0.2s;
        }

        .draw-btn:hover {
            transform: translateY(-3px);
        }

        .result-container {
            margin-top: 30px;
            display: none;
        }

        .result-header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            text-align: center;
            font-size: 22px;
            font-weight: 600;
        }

        .result-info {
            padding: 20px;
            background: var(--light-color);
            border-bottom: 1px solid #ddd;
        }

        .info-row {
            display: flex;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ccc;
        }

        .info-label {
            font-weight: 600;
            min-width: 150px;
            color: var(--primary-color);
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .result-table th {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: right;
        }

        .result-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
            text-align: right;
        }

        .result-table tr:nth-child(even) {
            background: var(--light-color);
        }

        .result-table tr:hover {
            background: rgba(44, 119, 68, 0.1);
        }

        /* تذييل الصفحة */
        .footer {
            background: linear-gradient(to right, var(--dark-color), var(--primary-color));
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-top: 50px;
            font-size: 16px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* رسالة خطأ */
        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
            border-left: 4px solid #c62828;
        }

        .success-message {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
            border-left: 4px solid #2e7d32;
        }

        /* شريط التحميل */
        .loader {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .loader-spinner {
            border: 5px solid var(--light-color);
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* صفحة تغيير كلمة السر */
        .change-password {
            display: none;
            background: rgba(0, 0, 0, 0.7);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .password-box {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-color);
            cursor: pointer;
        }

        .password-box h3 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary-color);
            font-size: 24px;
        }

        /* زر الطباعة */
        .print-btn {
            background: var(--gold-color);
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: background 0.3s;
        }

        .print-btn:hover {
            background: #c19b2c;
        }

        /* نمط الطباعة */
        @media print {
            body * {
                visibility: hidden;
            }
            .print-section, .print-section * {
                visibility: visible;
            }
            .print-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                background: white;
                color: black;
                padding: 20px;
                font-size: 12pt;
            }
            .print-footer {
                position: fixed;
                bottom: 10px;
                left: 0;
                right: 0;
                text-align: center;
                font-size: 10pt;
                border-top: 1px solid #ccc;
                padding-top: 10px;
            }
            .no-print {
                display: none !important;
            }
            .result-table {
                width: 100%;
                font-size: 10pt;
                border-collapse: collapse;
            }
            .result-table th, .result-table td {
                padding: 8px;
                border: 1px solid #000;
            }
            .result-info {
                background: white !important;
                color: black !important;
                border: 1px solid #ddd !important;
            }
            .result-header {
                background: #ddd !important;
                color: black !important;
            }
            .print-header {
                text-align: center;
                font-weight: bold;
                margin-bottom: 15px;
                font-size: 14pt;
            }
            .print-date {
                text-align: left;
                margin-bottom: 15px;
                font-size: 10pt;
            }
        }
        
        /* زر الحفظ PDF */
        .save-pdf-btn {
            background: #2c3e50;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px auto;
            display: block;
            transition: background 0.3s;
        }
        
        .save-pdf-btn:hover {
            background: #1a252f;
        }
        
        /* نص الاستغفار */
        .istighfar-text {
            margin-top: 15px;
            font-size: 18px;
            color: var(--primary-color);
            font-weight: 600;
        }

        /* تصميم متجاوب */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .user-info {
                width: 100%;
                justify-content: space-between;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .page-title h1 {
                font-size: 26px;
            }
            
            .page-title h2 {
                font-size: 20px;
            }
        }

        @media (max-width: 480px) {
            .login-box {
                padding: 20px;
            }
            
            .parts-container {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
        }
    </style>
</head>
<body>
    <!-- صفحة الدخول -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-logo">
                <div class="quran-icon">
                    <i class="fas fa-book-quran"></i>
                </div>
                <h1>جمعية المحافظة على القرآن الكريم</h1>
                <h2>فرع الكورة | منصة السحب الإلكتروني</h2>
                <h3>جمعية المحافظة على القرآن الكريم/ فرع الكورة</h3>
            </div>
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="username">اسم المستخدم</label>
                    <input type="text" id="username" placeholder="أدخل اسم المستخدم" required>
                </div>
                <div class="form-group">
                    <label for="password">كلمة السر</label>
                    <input type="password" id="password" placeholder="أدخل كلمة السر" required>
                </div>
                <button type="submit" class="login-btn">دخول إلى المنصة</button>
            </form>
            <div class="error-message" id="loginError">اسم المستخدم أو كلمة السر غير صحيحة!</div>
        </div>
    </div>

    <!-- الواجهة الرئيسية -->
    <div class="main-content" id="mainPage">
        <div class="container">
            <!-- الشريط العلوي -->
            <div class="header">
                <div class="header-info">
                    <div class="datetime" id="datetime"></div>
                </div>
                <div class="user-info">
                    <div class="user-name">م. مأمون محمود الفقيه</div>
                    <div class="settings">
                        <button class="setting-btn" id="changePasswordBtn">
                            <i class="fas fa-lock"></i>
                        </button>
                        <button class="setting-btn" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- عنوان الصفحة -->
            <div class="page-title">
                <h1>منصة السحب الإلكتروني</h1>
                <h2>لاختيار مواضع عشوائية من القرآن الكريم</h2>
            </div>

            <!-- البطاقات -->
            <div class="cards-container">
                <!-- بطاقة مسابقة الحافظ الصغير -->
                <div class="card">
                    <div class="card-header">مسابقة الحافظ الصغير والجائزة السنوية</div>
                    <div class="card-body">
                        <div class="card-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="card-description">
                            نظام سحب إلكتروني لاختيار مواضع عشوائية من القرآن الكريم لمسابقة الحافظ الصغير والجائزة السنوية وفق معايير محددة.
                        </div>
                        <button class="card-btn" onclick="showCard('hafezCard')">بدء السحب</button>
                    </div>
                </div>

                <!-- بطاقة اختبار عشوائي -->
                <div class="card">
                    <div class="card-header">اختبار عشوائي</div>
                    <div class="card-body">
                        <div class="card-icon">
                            <i class="fas fa-random"></i>
                        </div>
                        <div class="card-description">
                            نظام سحب إلكتروني لاختيار مواضع عشوائية من القرآن الكريم للاختبارات مع إمكانية تحديد عدد المواضع لكل جزء.
                        </div>
                        <button class="card-btn" onclick="showCard('randomTestCard')">بدء السحب</button>
                    </div>
                </div>

                <!-- بطاقة تغيير موضع -->
                <div class="card">
                    <div class="card-header">تغيير موضع</div>
                    <div class="card-body">
                        <div class="card-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="card-description">
                            نظام سحب إلكتروني لاختيار موضع عشوائي من جزء محدد من القرآن الكريم لتغيير الموضع الحالي.
                        </div>
                        <button class="card-btn" onclick="showCard('changePositionCard')">بدء السحب</button>
                    </div>
                </div>
            </div>

            <!-- محتوى البطاقات -->
            <!-- بطاقة مسابقة الحافظ الصغير -->
            <div class="card-content" id="hafezCard">
                <button class="back-btn" onclick="hideCards()">
                    <i class="fas fa-arrow-right"></i> العودة
                </button>
                <h3>مسابقة الحافظ الصغير والجائزة السنوية</h3>
                <div class="form-group">
                    <label for="hafezName">اسم الممتحن</label>
                    <input type="text" id="hafezName" placeholder="أدخل اسم الممتحن">
                </div>
                <div class="form-group">
                    <label for="centerName">اسم المركز</label>
                    <input type="text" id="centerName" placeholder="أدخل اسم المركز">
                </div>
                <div class="form-group">
                    <label for="age">العمر</label>
                    <input type="number" id="age" placeholder="أدخل العمر">
                </div>
                <div class="form-group">
                    <label for="hafezParts">عدد الأجزاء</label>
                    <select id="hafezParts" onchange="updatePartsSelection()">
                        <option value="">اختر عدد الأجزاء</option>
                        <option value="3">3 أجزاء</option>
                        <option value="5">5 أجزاء</option>
                        <option value="7">7 أجزاء</option>
                        <option value="9">9 أجزاء</option>
                        <option value="10">10 أجزاء</option>
                        <option value="12">12 أجزاء</option>
                        <option value="15">15 أجزاء</option>
                        <option value="20">20 أجزاء</option>
                        <option value="25">25 أجزاء</option>
                        <option value="30">30 أجزاء</option>
                    </select>
                </div>
                <div id="partsSelection" style="display: none;">
                    <label>اختر الأجزاء:</label>
                    <div id="allPartsText" style="display: none; text-align: center; padding: 15px; background: var(--light-color); border-radius: 8px; margin-top: 15px;">
                        القرآن الكريم كاملاً
                    </div>
                    <div class="parts-container" id="partsCheckboxes"></div>
                </div>
                <div class="error-message" id="hafezError"></div>
                <div class="loader" id="hafezLoader">
                    <div class="loader-spinner"></div>
                    <p>جاري معالجة طلبك...</p>
                    <div class="istighfar-text">أستغفر الله</div>
                </div>
                <button class="draw-btn" onclick="drawHafez()">سحب إلكتروني</button>
                <div class="result-container" id="hafezResult"></div>
            </div>

            <!-- بطاقة اختبار عشوائي -->
            <div class="card-content" id="randomTestCard">
                <button class="back-btn" onclick="hideCards()">
                    <i class="fas fa-arrow-right"></i> العودة
                </button>
                <h3>اختبار عشوائي</h3>
                <div class="form-group">
                    <label for="testName">اسم الممتحن</label>
                    <input type="text" id="testName" placeholder="أدخل اسم الممتحن">
                </div>
                <div class="form-group">
                    <label for="testParts">عدد الأجزاء</label>
                    <input type="number" id="testParts" min="1" max="30" placeholder="أدخل عدد الأجزاء (1-30)" onchange="updateTestPartsSelection()">
                </div>
                <div id="testPartsSelection" style="display: none;">
                    <label>اختر الأجزاء:</label>
                    <div id="testAllPartsText" style="display: none; text-align: center; padding: 15px; background: var(--light-color); border-radius: 8px; margin-top: 15px;">
                        القرآن الكريم كاملاً
                    </div>
                    <div class="parts-container" id="testPartsCheckboxes"></div>
                </div>
                <div class="form-group">
                    <label for="positionsPerPart">عدد المواضع في كل جزء</label>
                    <input type="number" id="positionsPerPart" min="1" max="5" value="1" placeholder="عدد المواضع لكل جزء">
                </div>
                <div class="error-message" id="testError"></div>
                <div class="loader" id="testLoader">
                    <div class="loader-spinner"></div>
                    <p>جاري معالجة طلبك...</p>
                    <div class="istighfar-text">أستغفر الله</div>
                </div>
                <button class="draw-btn" onclick="drawRandomTest()">سحب إلكتروني</button>
                <div class="result-container" id="testResult"></div>
            </div>

            <!-- بطاقة تغيير موضع -->
            <div class="card-content" id="changePositionCard">
                <button class="back-btn" onclick="hideCards()">
                    <i class="fas fa-arrow-right"></i> العودة
                </button>
                <h3>تغيير موضع</h3>
                <div class="form-group">
                    <label for="partNumber">رقم الجزء (1-30)</label>
                    <input type="number" id="partNumber" min="1" max="30" placeholder="أدخل رقم الجزء">
                </div>
                <div class="error-message" id="positionError"></div>
                <div class="loader" id="positionLoader">
                    <div class="loader-spinner"></div>
                    <p>جاري معالجة طلبك...</p>
                    <div class="istighfar-text">أستغفر الله</div>
                </div>
                <button class="draw-btn" onclick="changePosition()">سحب عشوائي</button>
                <div class="result-container" id="positionResult"></div>
            </div>
        </div>

        <!-- تذييل الصفحة -->
        <div class="footer">
            <div class="footer-content">
                جميع الحقوق محفوظة | مركز كفرأبيل القرآني 2025<br>
                تصميم وبرمجة م.مأمون
            </div>
        </div>
    </div>

    <!-- نافذة تغيير كلمة السر -->
    <div class="change-password" id="changePassword">
        <div class="password-box">
            <button class="close-btn" onclick="closePasswordModal()">
                <i class="fas fa-times"></i>
            </button>
            <h3>تغيير كلمة السر</h3>
            <div class="form-group">
                <label for="currentPassword">كلمة السر الحالية</label>
                <input type="password" id="currentPassword" placeholder="أدخل كلمة السر الحالية">
            </div>
            <div class="form-group">
                <label for="newPassword">كلمة السر الجديدة</label>
                <input type="password" id="newPassword" placeholder="أدخل كلمة السر الجديدة">
            </div>
            <div class="form-group">
                <label for="confirmPassword">تأكيد كلمة السر الجديدة</label>
                <input type="password" id="confirmPassword" placeholder="أكد كلمة السر الجديدة">
            </div>
            <div class="error-message" id="passwordError"></div>
            <div class="success-message" id="passwordSuccess"></div>
            <button class="draw-btn" onclick="updatePassword()">تغيير كلمة السر</button>
        </div>
    </div>

    <script>
        // بيانات المواضع من ملف Excel (30 جزء × 40 موضع) مع إضافة رقم الصفحة
        const quranPositions = {
            1: [
                {text: "البقرة (1-7)", page: 2},
                {text: "البقرة (8-13)", page: 3},
                {text: "البقرة (14-18)", page: 3},
                {text: "البقرة (17-20)", page: 4},
                {text: "البقرة (21-24)", page: 4},
                {text: "البقرة (25-26)", page: 5},
                {text: "البقرة (26-27)", page: 5},
                {text: "البقرة (28-30)", page: 5},
                {text: "البقرة (30-33)", page: 6},
                {text: "البقرة (34-38)", page: 6},
                {text: "البقرة (37-41)", page: 7},
                {text: "البقرة (40-44)", page: 7},
                {text: "البقرة (45-49)", page: 7},
                {text: "البقرة (50-54)", page: 8},
                {text: "البقرة (55-59)", page: 8},
                {text: "البقرة (60-61)", page: 9},
                {text: "البقرة (62-66)", page: 10},
                {text: "البقرة (67-70)", page: 10},
                {text: "البقرة (70-74)", page: 11},
                {text: "البقرة (74-76)", page: 11},
                {text: "البقرة (75-78)", page: 11},
                {text: "البقرة (78-81)", page: 12},
                {text: "البقرة (81-83)", page: 13},
                {text: "البقرة (84-85)", page: 13},
                {text: "البقرة (87-89)", page: 13},
                {text: "البقرة (89-91)", page: 14},
                {text: "البقرة (92-95)", page: 14},
                {text: "البقرة (96-100)", page: 15},
                {text: "البقرة (101-102)", page: 15},
                {text: "البقرة (103-107)", page: 16},
                {text: "البقرة (106-109)", page: 17},
                {text: "البقرة (109-112)", page: 17},
                {text: "البقرة (113-115)", page: 18},
                {text: "البقرة (115-119)", page: 18},
                {text: "البقرة (119-123)", page: 18},
                {text: "البقرة (124-126)", page: 19},
                {text: "البقرة (127-131)", page: 20},
                {text: "البقرة (132-135)", page: 20},
                {text: "البقرة (135-138)", page: 21},
                {text: "البقرة (138-141)", page: 21}
            ],
            2: [
                {text: "البقرة (142-143)", page: 22},
                {text: "البقرة (144-145)", page: 22},
                {text: "البقرة (146-149)", page: 23},
                {text: "البقرة (150-153)", page: 23},
                {text: "البقرة (152-157)", page: 23},
                {text: "البقرة (158-162)", page: 24},
                {text: "البقرة (163-165)", page: 24},
                {text: "البقرة (165-167)", page: 25},
                {text: "البقرة (168-171)", page: 25},
                {text: "البقرة (172-175)", page: 26},
                {text: "البقرة (174-177)", page: 26},
                {text: "البقرة (178-180)", page: 27},
                {text: "البقرة (180-184)", page: 27},
                {text: "البقرة (185-186)", page: 28},
                {text: "البقرة (187-188)", page: 29},
                {text: "البقرة (189-192)", page: 29},
                {text: "البقرة (191-195)", page: 30},
                {text: "البقرة (196)", page: 30},
                {text: "البقرة (197-199)", page: 31},
                {text: "البقرة (200-203)", page: 31},
                {text: "البقرة (204-209)", page: 32},
                {text: "البقرة (208-212)", page: 32},
                {text: "البقرة (213-214)", page: 33},
                {text: "البقرة (214-216)", page: 33},
                {text: "البقرة (217-218)", page: 34},
                {text: "البقرة (218-220)", page: 34},
                {text: "البقرة (221-222)", page: 35},
                {text: "البقرة (223-227)", page: 35},
                {text: "البقرة (225-228)", page: 36},
                {text: "البقرة (229-230)", page: 36},
                {text: "البقرة (231-232)", page: 37},
                {text: "البقرة (233)", page: 37},
                {text: "البقرة (234-235)", page: 38},
                {text: "البقرة (236-239)", page: 38},
                {text: "البقرة (238-240)", page: 39},
                {text: "البقرة (240-243)", page: 39},
                {text: "البقرة (244-246)", page: 39},
                {text: "البقرة (247-248)", page: 40},
                {text: "البقرة (249-250)", page: 41},
                {text: "البقرة (250-252)", page: 41}
            ],
            3: [
                {text: "البقرة (253-254)", page: 42},
                {text: "البقرة (255-256)", page: 42},
                {text: "البقرة (257-258)", page: 43},
                {text: "البقرة (259)", page: 43},
                {text: "البقرة (260-261)", page: 44},
                {text: "البقرة (261-263)", page: 44},
                {text: "البقرة (263-265)", page: 44},
                {text: "البقرة (266-267)", page: 45},
                {text: "البقرة (267-269)", page: 45},
                {text: "البقرة (268-271)", page: 45},
                {text: "البقرة (272-274)", page: 46},
                {text: "البقرة (275-277)", page: 47},
                {text: "البقرة (277-281)", page: 47},
                {text: "البقرة (282)", page: 48},
                {text: "البقرة (283-285)", page: 49},
                {text: "البقرة (285-286)", page: 49},
                {text: "البقرة (286)-آل عمران(4)", page: 49},
                {text: "آل عمران (1-6)", page: 50},
                {text: "آل عمران (7-9)", page: 50},
                {text: "آل عمران (10-13)", page: 51},
                {text: "آل عمران (14-17)", page: 51},
                {text: "آل عمران (18-20)", page: 51},
                {text: "آل عمران (21-25)", page: 52},
                {text: "آل عمران (26-28)", page: 53},
                {text: "آل عمران (29-32)", page: 53},
                {text: "آل عمران (33-36)", page: 54},
                {text: "آل عمران (37-40)", page: 54},
                {text: "آل عمران (41-45)", page: 55},
                {text: "آل عمران (44-48)", page: 55},
                {text: "آل عمران (48-51)", page: 56},
                {text: "آل عمران (52-55)", page: 56},
                {text: "آل عمران (55-59)", page: 57},
                {text: "آل عمران (59-63)", page: 57},
                {text: "آل عمران (64-67)", page: 58},
                {text: "آل عمران (68-72)", page: 58},
                {text: "آل عمران (72-76)", page: 59},
                {text: "آل عمران (77-79)", page: 59},
                {text: "آل عمران (79-82)", page: 60},
                {text: "آل عمران (83-85)", page: 60},
                {text: "آل عمران (86-92)", page: 61}
            ],
            4: [
                {text: "آل عمران (93-97)", page: 62},
                {text: "آل عمران (98-102)", page: 62},
                {text: "آل عمران (102-105)", page: 63},
                {text: "آل عمران (104-108)", page: 63},
                {text: "آل عمران (108-111)", page: 64},
                {text: "آل عمران (110-112)", page: 64},
                {text: "آل عمران (113-116)", page: 64},
                {text: "آل عمران (116-118)", page: 65},
                {text: "آل عمران (118-120)", page: 65},
                {text: "آل عمران (121-126)", page: 65},
                {text: "آل عمران (126-132)", page: 66},
                {text: "آل عمران (133-136)", page: 67},
                {text: "آل عمران (137-142)", page: 67},
                {text: "آل عمران (142-145)", page: 68},
                {text: "آل عمران (145-148)", page: 68},
                {text: "آل عمران (149-152)", page: 69},
                {text: "آل عمران (153-154)", page: 69},
                {text: "آل عمران (155-158)", page: 70},
                {text: "آل عمران (159-162)", page: 71},
                {text: "آل عمران (162-166)", page: 71},
                {text: "آل عمران (166-169)", page: 72},
                {text: "آل عمران (169-173)", page: 72},
                {text: "آل عمران (174-178)", page: 73},
                {text: "آل عمران (178-180)", page: 73},
                {text: "آل عمران (181-184)", page: 74},
                {text: "آل عمران (185-187)", page: 74},
                {text: "آل عمران (188-191)", page: 75},
                {text: "آل عمران (189-193)", page: 75},
                {text: "آل عمران (193-195)", page: 75},
                {text: "آل عمران (196-200)", page: 76},
                {text: "آل عمران (199)- النساء (2)", page: 76},
                {text: "النساء (1-3)", page: 77},
                {text: "النساء (4-6)", page: 77},
                {text: "النساء (7-10)", page: 78},
                {text: "النساء (11)", page: 78},
                {text: "النساء (12)", page: 79},
                {text: "النساء (13-16)", page: 79},
                {text: "النساء (17-19)", page: 80},
                {text: "النساء (19-22)", page: 80},
                {text: "النساء (23)", page: 81}
            ],
            5: [
                {text: "النساء (24-25)", page: 82},
                {text: "النساء (25)", page: 82},
                {text: "النساء (26-30)", page: 82},
                {text: "النساء (31-33)", page: 83},
                {text: "النساء (34-35)", page: 84},
                {text: "النساء (36-39)", page: 84},
                {text: "النساء (40-43)", page: 85},
                {text: "النساء (43-45)", page: 85},
                {text: "النساء (44-46)", page: 85},
                {text: "النساء (47-50)", page: 86},
                {text: "النساء (51-55)", page: 86},
                {text: "النساء (56-58)", page: 87},
                {text: "النساء (57-59)", page: 87},
                {text: "النساء (60-63)", page: 88},
                {text: "النساء (64-68)", page: 88},
                {text: "النساء (69-73)", page: 89},
                {text: "النساء (74-76)", page: 89},
                {text: "النساء (77-78)", page: 90},
                {text: "النساء (79-82)", page: 90},
                {text: "النساء (83-85)", page: 91},
                {text: "النساء (86-89)", page: 91},
                {text: "النساء (90-91)", page: 92},
                {text: "النساء (92-93)", page: 93},
                {text: "النساء (94-96)", page: 93},
                {text: "النساء (95-98)", page: 94},
                {text: "النساء (97-100)", page: 94},
                {text: "النساء (101-102)", page: 94},
                {text: "النساء (103-106)", page: 95},
                {text: "النساء (105-109)", page: 96},
                {text: "النساء (110-113)", page: 96},
                {text: "النساء (113-115)", page: 96},
                {text: "النساء (116-121)", page: 97},
                {text: "النساء (122-125)", page: 98},
                {text: "النساء (126-128)", page: 98},
                {text: "النساء (128-131)", page: 99},
                {text: "النساء (132-135)", page: 99},
                {text: "النساء (135-136)", page: 100},
                {text: "النساء (136-139)", page: 100},
                {text: "النساء (140-142)", page: 100},
                {text: "النساء (143-147)", page: 101}
            ],
            6: [
                {text: "النساء (148-152)", page: 102},
                {text: "النساء (153-155)", page: 102},
                {text: "النساء (155-158)", page: 103},
                {text: "النساء (156-161)", page: 103},
                {text: "النساء (162-164)", page: 103},
                {text: "النساء (163-165)", page: 104},
                {text: "النساء (165-169)", page: 104},
                {text: "النساء (170-171)", page: 104},
                {text: "النساء (172-175)", page: 106},
                {text: "النساء (174-176)", page: 106},
                {text: "النساء (176-1)", page: 106},
                {text: "المائدة (1-2)", page: 106},
                {text: "المائدة (3)", page: 107},
                {text: "المائدة (4-5)", page: 107},
                {text: "المائدة (6)", page: 108},
                {text: "المائدة (7-10)", page: 108},
                {text: "المائدة (8-11)", page: 108},
                {text: "المائدة (12-13)", page: 109},
                {text: "المائدة (14-16)", page: 110},
                {text: "المائدة (17-18)", page: 110},
                {text: "المائدة (19-22)", page: 111},
                {text: "المائدة (20-24)", page: 111},
                {text: "المائدة (23-26)", page: 111},
                {text: "المائدة (27-31)", page: 112},
                {text: "المائدة (32-34)", page: 113},
                {text: "المائدة (35-39)", page: 113},
                {text: "المائدة (40-41)", page: 114},
                {text: "المائدة (42-44)", page: 115},
                {text: "المائدة (44-45)", page: 115},
                {text: "المائدة (45-47)", page: 115},
                {text: "المائدة (48-49)", page: 116},
                {text: "المائدة (50-53)", page: 116},
                {text: "المائدة (54-57)", page: 117},
                {text: "المائدة (57-61)", page: 118},
                {text: "المائدة (62-64)", page: 118},
                {text: "المائدة (65-68)", page: 119},
                {text: "المائدة (69-72)", page: 119},
                {text: "المائدة (70-72)", page: 119},
                {text: "المائدة (73-76)", page: 120},
                {text: "المائدة (77-81)", page: 121}
            ],
            7: [
                {text: "المائدة (82-86)", page: 121},
                {text: "المائدة (87-89)", page: 122},
                {text: "المائدة (90-93)", page: 123},
                {text: "المائدة (94-95)", page: 123},
                {text: "المائدة (96-100)", page: 124},
                {text: "المائدة (101-104)", page: 124},
                {text: "المائدة (105-106)", page: 125},
                {text: "المائدة (106-107)", page: 125},
                {text: "المائدة (107-109)", page: 125},
                {text: "المائدة (110-111)", page: 126},
                {text: "المائدة (112-115)", page: 126},
                {text: "المائدة (116-118)", page: 127},
                {text: "المائدة (119)-الأنعام (3)", page: 127},
                {text: "الأنعام (4-7)", page: 128},
                {text: "الأنعام (8-12)", page: 128},
                {text: "الأنعام (13-18)", page: 129},
                {text: "الأنعام (19-22)", page: 130},
                {text: "الأنعام (22-26)", page: 130},
                {text: "الأنعام (27-31)", page: 130},
                {text: "الأنعام (32-35)", page: 131},
                {text: "الأنعام (36-40)", page: 132},
                {text: "الأنعام (40-45)", page: 132},
                {text: "الأنعام (45-49)", page: 133},
                {text: "الأنعام (50-53)", page: 133},
                {text: "الأنعام (54-58)", page: 134},
                {text: "الأنعام (59-62)", page: 134},
                {text: "الأنعام (63-67)", page: 135},
                {text: "الأنعام (68-70)", page: 135},
                {text: "الأنعام (70-71)", page: 136},
                {text: "الأنعام (71-73)", page: 136},
                {text: "الأنعام (74-78)", page: 137},
                {text: "الأنعام (78-81)", page: 137},
                {text: "الأنعام (82-86)", page: 138},
                {text: "الأنعام (87-90)", page: 138},
                {text: "الأنعام (89-91)", page: 138},
                {text: "الأنعام (92-93)", page: 139},
                {text: "الأنعام (94-96)", page: 139},
                {text: "الأنعام (97-99)", page: 140},
                {text: "الأنعام (100-105)", page: 140},
                {text: "الأنعام (106-110)", page: 141}
            ],
            8: [
                {text: "الأنعام (111-114)", page: 142},
                {text: "الأنعام (115-119)", page: 142},
                {text: "الأنعام (120-123)", page: 143},
                {text: "الأنعام (124-127)", page: 143},
                {text: "الأنعام (128-131)", page: 144},
                {text: "الأنعام (132-135)", page: 145},
                {text: "الأنعام (134-136)", page: 145},
                {text: "الأنعام (136-137)", page: 145},
                {text: "الأنعام (138-140)", page: 146},
                {text: "الأنعام (141-143)", page: 146},
                {text: "الأنعام (144-145)", page: 147},
                {text: "الأنعام (146-149)", page: 147},
                {text: "الأنعام (150-151)", page: 148},
                {text: "الأنعام (152-154)", page: 149},
                {text: "الأنعام (154-157)", page: 149},
                {text: "الأنعام (158-161)", page: 150},
                {text: "الأنعام (162-165)", page: 150},
                {text: "الأنعام (165)-الأعراف (5)", page: 150},
                {text: "الأعراف (1-7)", page: 151},
                {text: "الأعراف (8-13)", page: 151},
                {text: "الأعراف (13-19)", page: 152},
                {text: "الأعراف (19-22)", page: 152},
                {text: "الأعراف (23-27)", page: 153},
                {text: "الأعراف (26-28)", page: 153},
                {text: "الأعراف (29-32)", page: 153},
                {text: "الأعراف (33-36)", page: 154},
                {text: "الأعراف (37-39)", page: 154},
                {text: "الأعراف (40-43)", page: 155},
                {text: "الأعراف (44-47)", page: 156},
                {text: "الأعراف (48-51)", page: 156},
                {text: "الأعراف (52-54)", page: 157},
                {text: "الأعراف (55-58)", page: 157},
                {text: "الأعراف (59-64)", page: 158},
                {text: "الأعراف (65-69)", page: 158},
                {text: "الأعراف (69-72)", page: 159},
                {text: "الأعراف (73-75)", page: 159},
                {text: "الأعراف (75-79)", page: 160},
                {text: "الأعراف (78-84)", page: 160},
                {text: "الأعراف (80-84)", page: 160},
                {text: "الأعراف (85-87)", page: 161}
            ],
            9: [
                {text: "الأعراف (88-90)", page: 162},
                {text: "الأعراف (90-95)", page: 162},
                {text: "الأعراف (96-100)", page: 163},
                {text: "الأعراف (99-103)", page: 163},
                {text: "الأعراف (103-108)", page: 163},
                {text: "الأعراف (107-116)", page: 164},
                {text: "الأعراف (113-122)", page: 164},
                {text: "الأعراف (123-127)", page: 165},
                {text: "الأعراف (128-131)", page: 165},
                {text: "الأعراف (132-136)", page: 166},
                {text: "الأعراف (134-137)", page: 166},
                {text: "الأعراف (138-141)", page: 167},
                {text: "الأعراف (140-142)", page: 167},
                {text: "الأعراف (142-144)", page: 167},
                {text: "الأعراف (145-147)", page: 168},
                {text: "الأعراف (148-150)", page: 168},
                {text: "الأعراف (151-154)", page: 169},
                {text: "الأعراف (155-156)", page: 169},
                {text: "الأعراف (157-158)", page: 170},
                {text: "الأعراف (159-161)", page: 170},
                {text: "الأعراف (161-163)", page: 171},
                {text: "الأعراف (163-166)", page: 171},
                {text: "الأعراف (164-167)", page: 172},
                {text: "الأعراف (168-170)", page: 172},
                {text: "الأعراف (170-174)", page: 173},
                {text: "الأعراف (175-178)", page: 173},
                {text: "الأعراف (179-183)", page: 174},
                {text: "الأعراف (184-187)", page: 174},
                {text: "الأعراف (188-190)", page: 175},
                {text: "الأعراف (191-195)", page: 175},
                {text: "الأعراف (195-200)", page: 175},
                {text: "الأعراف (201-206)", page: 176},
                {text: "الأنفال (1-5)", page: 177},
                {text: "الأنفال (6-10)", page: 177},
                {text: "الأنفال (11-14)", page: 178},
                {text: "الأنفال (15-19)", page: 178},
                {text: "الأنفال (20-25)", page: 179},
                {text: "الأنفال (26-30)", page: 180},
                {text: "الأنفال (31-35)", page: 180},
                {text: "الأنفال (36-40)", page: 181}
            ],
            10: [
                {text: "الأنفال (41-42)", page: 182},
                {text: "الأنفال (43-46)", page: 182},
                {text: "الأنفال (47-49)", page: 183},
                {text: "الأنفال (50-54)", page: 183},
                {text: "الأنفال (55-60)", page: 184},
                {text: "الأنفال (58-61)", page: 184},
                {text: "الأنفال (61-65)", page: 184},
                {text: "الأنفال (66-69)", page: 185},
                {text: "الأنفال (70-72)", page: 186},
                {text: "الأنفال (72-75)", page: 186},
                {text: "الأنفال (73) - التوبة (2)", page: 186},
                {text: "التوبة (1-4)", page: 187},
                {text: "التوبة (5-7)", page: 187},
                {text: "التوبة (8-12)", page: 188},
                {text: "التوبة (13-16)", page: 188},
                {text: "التوبة (17-19)", page: 189},
                {text: "التوبة (19-22)", page: 189},
                {text: "التوبة (23-24)", page: 190},
                {text: "التوبة (25-28)", page: 190},
                {text: "التوبة (28-30)", page: 191},
                {text: "التوبة (30-33)", page: 191},
                {text: "التوبة (34-36)", page: 192},
                {text: "التوبة (37-39)", page: 193},
                {text: "التوبة (38-40)", page: 193},
                {text: "التوبة (40-42)", page: 193},
                {text: "التوبة (43-47)", page: 194},
                {text: "التوبة (48-52)", page: 195},
                {text: "التوبة (53-57)", page: 195},
                {text: "التوبة (58-60)", page: 196},
                {text: "التوبة (59-61)", page: 196},
                {text: "التوبة (61-64)", page: 196},
                {text: "التوبة (65-68)", page: 197},
                {text: "التوبة (68-70)", page: 197},
                {text: "التوبة (71-73)", page: 198},
                {text: "التوبة (73-76)", page: 199},
                {text: "التوبة (76-80)", page: 199},
                {text: "التوبة (79-82)", page: 199},
                {text: "التوبة (81-84)", page: 200},
                {text: "التوبة (85-89)", page: 200},
                {text: "التوبة (90-92)", page: 201}
            ],
            11: [
                {text: "التوبة (93-95)", page: 201},
                {text: "التوبة (96-99)", page: 202},
                {text: "التوبة (100-102)", page: 203},
                {text: "التوبة (103-106)", page: 203},
                {text: "التوبة (107-110)", page: 204},
                {text: "التوبة (111-112)", page: 204},
                {text: "التوبة (113-116)", page: 205},
                {text: "التوبة (117-119)", page: 205},
                {text: "التوبة (120-121)", page: 206},
                {text: "التوبة (122-125)", page: 206},
                {text: "التوبة (126-129)", page: 207},
                {text: "يونس (1-3)", page: 208},
                {text: "يونس (4-6)", page: 208},
                {text: "يونس (7-11)", page: 209},
                {text: "يونس (11-14)", page: 209},
                {text: "يونس (13-16)", page: 209},
                {text: "يونس (17-19)", page: 210},
                {text: "يونس(20-22)", page: 210},
                {text: "يونس (23-24)", page: 211},
                {text: "يونس (25-28)", page: 211},
                {text: "يونس (28-31)", page: 212},
                {text: "يونس (31-34)", page: 212},
                {text: "يونس (35-38)", page: 213},
                {text: "يونس(39-43)", page: 213},
                {text: "يونس (44-49)", page: 214},
                {text: "يونس (50-54)", page: 214},
                {text: "يونس (55-60)", page: 215},
                {text: "يونس (59-63)", page: 215},
                {text: "يونس (61-65)", page: 215},
                {text: "يونس (66-70)", page: 216},
                {text: "يونس (71-73)", page: 217},
                {text: "يونس (74-78)", page: 217},
                {text: "يونس (79-84)", page: 218},
                {text: "يونس (84-89)", page: 218},
                {text: "يونس (90-93)", page: 219},
                {text: "يونس (94-98)", page: 219},
                {text: "يونس (99-103)", page: 220},
                {text: "يونس (104-107)", page: 220},
                {text: "يونس (106-109)", page: 220},
                {text: "هود (1-5)", page: 221}
            ],
            12: [
                {text: "هود (6-8)", page: 222},
                {text: "هود (9-12)", page: 222},
                {text: "هود (13-16)", page: 223},
                {text: "هود (17-19)", page: 223},
                {text: "هود (20-24)", page: 224},
                {text: "هود (25-29)", page: 224},
                {text: "هود (29-32)", page: 225},
                {text: "هود (32-37)", page: 225},
                {text: "هود (36-40)", page: 225},
                {text: "هود (38-42)", page: 226},
                {text: "هود (41-44)", page: 226},
                {text: "هود (45-49)", page: 226},
                {text: "هود (50-55)", page: 227},
                {text: "هود (56-60)", page: 228},
                {text: "هود (61-63)", page: 228},
                {text: "هود (64-68)", page: 229},
                {text: "هود (69-73)", page: 229},
                {text: "هود (74-78)", page: 230},
                {text: "هود (79-83)", page: 230},
                {text: "هود (84-87)", page: 231},
                {text: "هود (88-91)", page: 231},
                {text: "هود (92-95)", page: 232},
                {text: "هود (96-101)", page: 232},
                {text: "هود (102-108)", page: 233},
                {text: "هود (109-113)", page: 234},
                {text: "هود (113-117)", page: 234},
                {text: "هود (118-123)", page: 235},
                {text: "يوسف (1-5)", page: 235},
                {text: "يوسف (5-9)", page: 236},
                {text: "يوسف (10-15)", page: 236},
                {text: "يوسف (16-20)", page: 237},
                {text: "يوسف (21-23)", page: 237},
                {text: "يوسف (24-28)", page: 238},
                {text: "يوسف (29-32)", page: 238},
                {text: "يوسف (33-36)", page: 239},
                {text: "يوسف (37-39)", page: 239},
                {text: "يوسف (39-42)", page: 240},
                {text: "يوسف (41-44)", page: 240},
                {text: "يوسف (45-49)", page: 241},
                {text: "يوسف (50-52)", page: 241}
            ],
            13: [
                {text: "يوسف (53-58)", page: 242},
                {text: "يوسف (59-64)", page: 242},
                {text: "يوسف (65-67)", page: 243},
                {text: "يوسف (68-72)", page: 243},
                {text: "يوسف (73-77)", page: 244},
                {text: "يوسف (78-81)", page: 244},
                {text: "يوسف (82-87)", page: 245},
                {text: "يوسف (88-92)", page: 246},
                {text: "يوسف (92-98)", page: 246},
                {text: "يوسف (99-101)", page: 247},
                {text: "يوسف (100-103)", page: 247},
                {text: "يوسف (102-108)", page: 247},
                {text: "يوسف (109-111)", page: 248},
                {text: "يوسف (111) - الرعد (2)", page: 248},
                {text: "الرعد (1-3)", page: 249},
                {text: "الرعد (4-6)", page: 249},
                {text: "الرعد (7-11)", page: 250},
                {text: "الرعد (12-15)", page: 250},
                {text: "الرعد (16-17)", page: 251},
                {text: "الرعد (18-21)", page: 251},
                {text: "الرعد (22-25)", page: 252},
                {text: "الرعد (26-30)", page: 252},
                {text: "الرعد (31-32)", page: 253},
                {text: "الرعد (33-35)", page: 253},
                {text: "الرعد (36-39)", page: 254},
                {text: "الرعد (40-43)", page: 254},
                {text: "الرعد (42)-إبراهيم(2)", page: 254},
                {text: "إبراهيم (1-4)", page: 255},
                {text: "إبراهيم (5-7)", page: 255},
                {text: "إبراهيم (8-10)", page: 256},
                {text: "إبراهيم (11-14)", page: 257},
                {text: "إبراهيم (15-20)", page: 257},
                {text: "إبراهيم (21-22)", page: 258},
                {text: "إبراهيم (23-27)", page: 258},
                {text: "إبراهيم (28-32)", page: 259},
                {text: "إبراهيم (32-36)", page: 259},
                {text: "إبراهيم (37-41)", page: 260},
                {text: "إبراهيم (39-44)", page: 260},
                {text: "إبراهيم (42-45)", page: 260},
                {text: "إبراهيم (46-52)", page: 261}
            ],
            14: [
                {text: "الحجر (1-9)", page: 262},
                {text: "الحجر (6-14)", page: 262},
                {text: "الحجر (10-18)", page: 262},
                {text: "الحجر (19-25)", page: 263},
                {text: "الحجر (26-33)", page: 263},
                {text: "الحجر (34-44)", page: 264},
                {text: "الحجر (45-55)", page: 264},
                {text: "الحجر (56-65)", page: 265},
                {text: "الحجر (66-77)", page: 265},
                {text: "الحجر (78-87)", page: 266},
                {text: "الحجر (88-99)", page: 266},
                {text: "الحجر (97) - النحل (4)", page: 267},
                {text: "النحل (1-7)", page: 267},
                {text: "النحل (8-13)", page: 268},
                {text: "النحل (14-21)", page: 268},
                {text: "النحل (22-26)", page: 269},
                {text: "النحل (26-29)", page: 269},
                {text: "النحل (30-34)", page: 270},
                {text: "النحل (32-35)", page: 270},
                {text: "النحل (35-37)", page: 271},
                {text: "النحل (38-42)", page: 271},
                {text: "النحل (43-48)", page: 272},
                {text: "النحل (49-55)", page: 272},
                {text: "النحل (56-60)", page: 273},
                {text: "النحل (61-64)", page: 273},
                {text: "النحل (65-69)", page: 274},
                {text: "النحل (70-74)", page: 274},
                {text: "النحل (75-78)", page: 275},
                {text: "النحل (79-81)", page: 275},
                {text: "النحل (82-87)", page: 276},
                {text: "النحل (88-90)", page: 277},
                {text: "النحل (90-93)", page: 277},
                {text: "النحل (94-100)", page: 278},
                {text: "النحل (101-106)", page: 278},
                {text: "النحل (106-110)", page: 279},
                {text: "النحل (111-115)", page: 280},
                {text: "النحل (114-118)", page: 280},
                {text: "النحل (116-120)", page: 280},
                {text: "النحل (118-123)", page: 280},
                {text: "النحل (124-128)", page: 281}
            ],
            15: [
                {text: "الإسراء (1-5)", page: 282},
                {text: "الإسراء (6-11)", page: 282},
                {text: "الإسراء (12-16)", page: 283},
                {text: "الإسراء (17-22)", page: 283},
                {text: "الإسراء (23-28)", page: 284},
                {text: "الإسراء (29-34)", page: 285},
                {text: "الإسراء (35-40)", page: 285},
                {text: "الإسراء (41-46)", page: 286},
                {text: "الإسراء (44-47)", page: 286},
                {text: "الإسراء (45-49)", page: 286},
                {text: "الإسراء (50-54)", page: 287},
                {text: "الإسراء (55-58)", page: 287},
                {text: "الإسراء (58-60)", page: 287},
                {text: "الإسراء (61-65)", page: 288},
                {text: "الإسراء (66-69)", page: 288},
                {text: "الإسراء (70-75)", page: 289},
                {text: "الإسراء (73-78)", page: 289},
                {text: "الإسراء (76-81)", page: 290},
                {text: "الإسراء (82-87)", page: 290},
                {text: "الإسراء (88-93)", page: 291},
                {text: "الإسراء (94-98)", page: 291},
                {text: "الإسراء (99-102)", page: 292},
                {text: "الإسراء (101-105)", page: 292},
                {text: "الإسراء (106-111)", page: 293},
                {text: "الكهف (1-8)", page: 293},
                {text: "الكهف (9-15)", page: 294},
                {text: "الكهف (16-18)", page: 295},
                {text: "الكهف (19-21)", page: 295},
                {text: "الكهف (22-26)", page: 296},
                {text: "الكهف (27-29)", page: 296},
                {text: "الكهف (29-31)", page: 297},
                {text: "الكهف (32-37)", page: 297},
                {text: "الكهف (37-42)", page: 298},
                {text: "الكهف (42-46)", page: 298},
                {text: "الكهف (47-50)", page: 299},
                {text: "الكهف (49-52)", page: 299},
                {text: "الكهف (51-55)", page: 299},
                {text: "الكهف (56-59)", page: 300},
                {text: "الكهف (60-66)", page: 300},
                {text: "الكهف (67-74)", page: 301}
            ],
            16: [
                {text: "الكهف (75-79)", page: 302},
                {text: "الكهف (79-82)", page: 302},
                {text: "الكهف (83-90)", page: 302},
                {text: "الكهف (91-98)", page: 303},
                {text: "الكهف (99-106)", page: 304},
                {text: "الكهف (103-110)", page: 304},
                {text: "الكهف (109) - مريم (4)", page: 304},
                {text: "مريم (1-8)", page: 305},
                {text: "مريم (8-15)", page: 305},
                {text: "مريم (16-23)", page: 306},
                {text: "مريم (24-29)", page: 306},
                {text: "مريم (30-36)", page: 307},
                {text: "مريم (34-40)", page: 307},
                {text: "مريم (41-48)", page: 308},
                {text: "مريم (49-57)", page: 308},
                {text: "مريم (58-63)", page: 309},
                {text: "مريم (64-70)", page: 309},
                {text: "مريم (71-76)", page: 310},
                {text: "مريم (77-87)", page: 311},
                {text: "مريم (88-98)", page: 311},
                {text: "طـه (1-10)", page: 312},
                {text: "طـه (11-20)", page: 312},
                {text: "طـه (21-36)", page: 313},
                {text: "طـه (25-39)", page: 313},
                {text: "طـه (37-41)", page: 313},
                {text: "طـه (41-48)", page: 314},
                {text: "طـه (49-55)", page: 314},
                {text: "طـه (56-63)", page: 315},
                {text: "طـه (63-69)", page: 315},
                {text: "طـه (70-73)", page: 316},
                {text: "طـه (74-79)", page: 316},
                {text: "طـه (80-85)", page: 317},
                {text: "طـه (86-90)", page: 317},
                {text: "طـه (91-97)", page: 318},
                {text: "طـه (98-105)", page: 318},
                {text: "طـه (105-112)", page: 319},
                {text: "طـه (113-119)", page: 319},
                {text: "طـه (120-126)", page: 320},
                {text: "طـه (127-131)", page: 321},
                {text: "طـه (131-135)", page: 321}
            ],
            17: [
                {text: "الأنبياء (1-6)", page: 322},
                {text: "الأنبياء (5-11)", page: 322},
                {text: "الأنبياء (7-15)", page: 322},
                {text: "الأنبياء (16-23)", page: 323},
                {text: "الأنبياء (24-29)", page: 323},
                {text: "الأنبياء (30-35)", page: 324},
                {text: "الأنبياء (33-37)", page: 324},
                {text: "الأنبياء (36-41)", page: 325},
                {text: "الأنبياء (42-47)", page: 325},
                {text: "الأنبياء (48-56)", page: 326},
                {text: "الأنبياء (57-65)", page: 326},
                {text: "الأنبياء (66-73)", page: 327},
                {text: "الأنبياء (69-75)", page: 327},
                {text: "الأنبياء (74-78)", page: 328},
                {text: "الأنبياء (78-82)", page: 328},
                {text: "الأنبياء (81-86)", page: 328},
                {text: "الأنبياء (83-88)", page: 329},
                {text: "الأنبياء (89-94)", page: 329},
                {text: "الأنبياء (95-103)", page: 330},
                {text: "الأنبياء (104-110)", page: 331},
                {text: "الأنبياء (110) - الحج(4)", page: 331},
                {text: "الحج (5-7)", page: 332},
                {text: "الحج (8-13)", page: 333},
                {text: "الحج (11-15)", page: 333},
                {text: "الحج (14-17)", page: 333},
                {text: "الحج (18-22)", page: 334},
                {text: "الحج (23-26)", page: 334},
                {text: "الحج (27-30)", page: 335},
                {text: "الحج (31-35)", page: 336},
                {text: "الحج (36-39)", page: 336},
                {text: "الحج (39-41)", page: 337},
                {text: "الحج (41-46)", page: 337},
                {text: "الحج (45-48)", page: 337},
                {text: "الحج (49-54)", page: 338},
                {text: "الحج (55-60)", page: 338},
                {text: "الحج (58-62)", page: 339},
                {text: "الحج (61-65)", page: 339},
                {text: "الحج (66-71)", page: 340},
                {text: "الحج (72-74)", page: 340},
                {text: "الحج (75-78)", page: 341}
            ],
            18: [
                {text: "المؤمنون (1-11)", page: 342},
                {text: "المؤمنون (12-18)", page: 342},
                {text: "المؤمنون (18-23)", page: 343},
                {text: "المؤمنون (23-27)", page: 343},
                {text: "المؤمنون (28-33)", page: 344},
                {text: "المؤمنون (33-39)", page: 344},
                {text: "المؤمنون (40-46)", page: 344},
                {text: "المؤمنون (45-52)", page: 345},
                {text: "المؤمنون (53-63)", page: 345},
                {text: "المؤمنون (64-71)", page: 346},
                {text: "المؤمنون (72-79)", page: 346},
                {text: "المؤمنون (80-89)", page: 347},
                {text: "المؤمنون (90-98)", page: 348},
                {text: "المؤمنون (93-101)", page: 348},
                {text: "المؤمنون (99-106)", page: 348},
                {text: "المؤمنون (106-114)", page: 349},
                {text: "المؤمنون (112-118)", page: 349},
                {text: "الـنور (1-5)", page: 350},
                {text: "الـنور (6-11)", page: 350},
                {text: "الـنور (12-16)", page: 351},
                {text: "الـنور (15-20)", page: 351},
                {text: "الـنور (21-23)", page: 352},
                {text: "الـنور (23-27)", page: 352},
                {text: "الـنور (27-30)", page: 352},
                {text: "الـنور (31)", page: 353},
                {text: "الـنور (32-34)", page: 354},
                {text: "الـنور (35-37)", page: 354},
                {text: "الـنور (36-40)", page: 355},
                {text: "الـنور (41-44)", page: 355},
                {text: "الـنور (45-49)", page: 356},
                {text: "الـنور (49-53)", page: 356},
                {text: "الـنور (54-57)", page: 357},
                {text: "الـنور (58-59)", page: 357},
                {text: "النور (61)", page: 358},
                {text: "الـنور (62-64)", page: 359},
                {text: "النور (64) - الفرقان (3)", page: 359},
                {text: "الفرقان (1-6)", page: 359},
                {text: "الفرقان (7-12)", page: 360},
                {text: "الفرقان (11-17)", page: 360},
                {text: "الفرقان (17-20)", page: 361}
            ],
            19: [
                {text: "الفرقان (21-27)", page: 362},
                {text: "الفرقان (27-33)", page: 362},
                {text: "الفرقان (33-39)", page: 363},
                {text: "الفرقان (40-46)", page: 363},
                {text: "الفرقان (45-50)", page: 364},
                {text: "الفرقان (47-53)", page: 364},
                {text: "الفرقان (54-59)", page: 364},
                {text: "الفرقان (60-66)", page: 365},
                {text: "الفرقان (67-72)", page: 365},
                {text: "الفرقان (71-77)", page: 366},
                {text: "الشعراء (1-9)", page: 367},
                {text: "الشعراء (10-20)", page: 367},
                {text: "الشعراء (21-29)", page: 368},
                {text: "الشعراء (29-38)", page: 368},
                {text: "الشعراء (38-48)", page: 368},
                {text: "الشعراء (49-56)", page: 369},
                {text: "الشعراء (57-68)", page: 369},
                {text: "الشعراء (69-82)", page: 370},
                {text: "الشعراء (83-95)", page: 370},
                {text: "الشعراء (96-110)", page: 371},
                {text: "الشعراء (111-122)", page: 371},
                {text: "الشعراء (123-136)", page: 372},
                {text: "الشعراء (136-148)", page: 372},
                {text: "الشعراء (146-159)", page: 373},
                {text: "الشعراء (160-175)", page: 374},
                {text: "الشعراء (176-187)", page: 374},
                {text: "الشعراء (188-200)", page: 375},
                {text: "الشعراء (192-204)", page: 375},
                {text: "الشعراء (200-214)", page: 375},
                {text: "الشعراء (215-227)", page: 376},
                {text: "الشعراء (224)-النمل (5)", page: 376},
                {text: "النمل (1-9)", page: 377},
                {text: "النمل (9-14)", page: 377},
                {text: "النمل (15-19)", page: 378},
                {text: "النمل (19-24)", page: 378},
                {text: "النمل (25-31)", page: 379},
                {text: "النمل (32-37)", page: 379},
                {text: "النمل (38-41)", page: 380},
                {text: "النمل (42-47)", page: 380},
                {text: "النمل (48-55)", page: 381}
            ],
            20: [
                {text: "النمل (56-61)", page: 382},
                {text: "النمل (59-62)", page: 382},
                {text: "النمل (62-66)", page: 382},
                {text: "النمل (67-75)", page: 383},
                {text: "النمل (76-82)", page: 383},
                {text: "النمل (83-88)", page: 384},
                {text: "النمل (89-93)", page: 385},
                {text: "النمل (93) - القصص (6)", page: 385},
                {text: "القصص (1-7)", page: 385},
                {text: "القصص (7-11)", page: 386},
                {text: "القصص (12-15)", page: 386},
                {text: "القصص (16-20)", page: 387},
                {text: "القصص (21-24)", page: 387},
                {text: "القصص (25-28)", page: 388},
                {text: "القصص (29-32)", page: 389},
                {text: "القصص (33-37)", page: 389},
                {text: "القصص (35-38)", page: 289},
                {text: "القصص (38-42)", page: 390},
                {text: "القصص (43-46)", page: 390},
                {text: "القصص (47-50)", page: 391},
                {text: "القصص (51-56)", page: 392},
                {text: "القصص (57-60)", page: 392},
                {text: "القصص (60-64)", page: 393},
                {text: "القصص (65-71)", page: 393},
                {text: "القصص (71-75)", page: 394},
                {text: "القصص (76-78)", page: 394},
                {text: "القصص (79-83)", page: 395},
                {text: "القصص (82-85)", page: 395},
                {text: "القصص (84-88)", page: 395},
                {text: "العنكبوت (1-7)", page: 396},
                {text: "العنكبوت (8-11)", page: 397},
                {text: "العنكبوت (12-16)", page: 397},
                {text: "العنكبوت (16-20)", page: 398},
                {text: "العنكبوت (20-24)", page: 398},
                {text: "العنكبوت (24-27)", page: 399},
                {text: "العنكبوت (28-32)", page: 399},
                {text: "العنكبوت (33-37)", page: 400},
                {text: "العنكبوت (36-39)", page: 400},
                {text: "العنكبوت (38-40)", page: 400},
                {text: "العنكبوت (41-45)", page: 401}
            ],
            21: [
                {text: "العنكبوت (46-49)", page: 402},
                {text: "العنكبوت (50-54)", page: 402},
                {text: "العنكبوت (53-59)", page: 403},
                {text: "العنكبوت (60-64)", page: 403},
                {text: "العنكبوت (64-69)", page: 404},
                {text: "العنكبوت (67) - الروم (5)", page: 404},
                {text: "الـروم (1-8)", page: 404},
                {text: "الـروم (9-14)", page: 405},
                {text: "الـروم (14-20)", page: 405},
                {text: "الـروم (21-24)", page: 406},
                {text: "الـروم (23-27)", page: 406},
                {text: "الـروم (25-29)", page: 407},
                {text: "الـروم (30-35)", page: 407},
                {text: "الـروم (36-40)", page: 408},
                {text: "الـروم (41-45)", page: 408},
                {text: "الـروم (46-49)", page: 409},
                {text: "الـروم (50-54)", page: 409},
                {text: "الـروم (55-60)", page: 410},
                {text: "الـروم (58) - لقمان (5)", page: 410},
                {text: "لقمـان (1-7)", page: 411},
                {text: "لقمـان (8-12)", page: 411},
                {text: "لقmـان (13-16)", page: 412},
                {text: "لقمـان (17-20)", page: 412},
                {text: "لقمـان (21-26)", page: 413},
                {text: "لقمـان (25-30)", page: 413},
                {text: "لقمـان (27-31)", page: 413},
                {text: "لقمـان (31-34)", page: 414},
                {text: "السجدة (1-6)", page: 415},
                {text: "السجدة (6-12)", page: 415},
                {text: "السجدة (13-18)", page: 416},
                {text: "السجدة (18-23)", page: 416},
                {text: "السجدة (24-30)", page: 417},
                {text: "السجدة (27) - الأحزاب (3)", page: 417},
                {text: "الأحزاب (1-5)", page: 418},
                {text: "الأحزاب (6-9)", page: 418},
                {text: "الأحزاب (9-13)", page: 419},
                {text: "الأحزاب (14-18)", page: 419},
                {text: "الأحزاب (18-20)", page: 420},
                {text: "الأحزاب (21-25)", page: 420},
                {text: "الأحزاب (26-30)", page: 421}
            ],
            22: [
                {text: "الأحزاب (31-34)", page: 422},
                {text: "الأحزاب (34-35)", page: 422},
                {text: "الأحزاب (35-36)", page: 422},
                {text: "الأحزاب (37-39)", page: 423},
                {text: "الأحزاب (40-48)", page: 423},
                {text: "الأحزاب (49-50)", page: 424},
                {text: "الأحزاب (50-51)", page: 424},
                {text: "الأحزاب (52-53)", page: 425},
                {text: "الأحزاب (54-58)", page: 425},
                {text: "الأحزاب (59-63)", page: 426},
                {text: "الأحزاب (63-69)", page: 427},
                {text: "الأحزاب (69-73)", page: 427},
                {text: "الأحزاب (72) - سبأ (2)", page: 427},
                {text: "سبأ (1-5)", page: 428},
                {text: "سبأ (5-9)", page: 428},
                {text: "سبأ (10-13)", page: 429},
                {text: "سبأ (14-18)", page: 429},
                {text: "سبأ (19-23)", page: 430},
                {text: "سبأ (24-30)", page: 431},
                {text: "سبأ (28-31)", page: 431},
                {text: "سبأ (31-33)", page: 431},
                {text: "سبأ (34-39)", page: 432},
                {text: "سبأ (38-42)", page: 432},
                {text: "سبأ (43-46)", page: 433},
                {text: "سبأ (47-54)", page: 433},
                {text: "سبأ (51) - فاطر (2)", page: 434},
                {text: "فاطر (1-4)", page: 434},
                {text: "فاطر (5-9)", page: 435},
                {text: "فاطر (9-11)", page: 435},
                {text: "فاطر (12-14)", page: 436},
                {text: "فاطر (15-22)", page: 436},
                {text: "فاطر (22-27)", page: 437},
                {text: "فاطر (24-28)", page: 437},
                {text: "فاطر (29-33)", page: 437},
                {text: "فاطر (34-38)", page: 438},
                {text: "فاطر (38-41)", page: 438},
                {text: "فاطر (42-44)", page: 439},
                {text: "فاطر (45) - يس (9)", page: 440},
                {text: "يس (10-17)", page: 440},
                {text: "يس (18-27)", page: 441}
            ],
            23: [
                {text: "يس (28-36)", page: 442},
                {text: "يس (37-44)", page: 442},
                {text: "يس (45-51)", page: 443},
                {text: "يس (51-59)", page: 443},
                {text: "يس (60-68)", page: 444},
                {text: "يس (69-76)", page: 444},
                {text: "يس (75-83)", page: 445},
                {text: "الصافات (1-14)", page: 446},
                {text: "الصافات (15-26)", page: 446},
                {text: "الصافات (27-37)", page: 447},
                {text: "الصافات (36-49)", page: 447},
                {text: "الصافات (50-61)", page: 447},
                {text: "الصافات (62-74)", page: 448},
                {text: "الصافات (75-87)", page: 448},
                {text: "الصافات (88-102)", page: 449},
                {text: "الصافات (99-109)", page: 449},
                {text: "الصافات (109-122)", page: 450},
                {text: "الصافات (123-138)", page: 450},
                {text: "الصافات (139-152)", page: 451},
                {text: "الصافات (151-166)", page: 451},
                {text: "الصافات (167-182)", page: 452},
                {text: "ص (1-8)", page: 453},
                {text: "ص (9-17)", page: 453},
                {text: "ص (17-23)", page: 454},
                {text: "ص (24-26)", page: 454},
                {text: "ص (27-33)", page: 455},
                {text: "ص (32-40)", page: 455},
                {text: "ص (41-48)", page: 455},
                {text: "ص (49-60)", page: 456},
                {text: "ص (61-70)", page: 456},
                {text: "ص (65-76)", page: 457},
                {text: "ص (71-79)", page: 457},
                {text: "ص (77-88)", page: 457},
                {text: "الزمر (1-5)", page: 458},
                {text: "الزمر (5-7)", page: 458},
                {text: "الزمر (8-10)", page: 459},
                {text: "الزمر (11-18)", page: 460},
                {text: "الزمر (19-22)", page: 460},
                {text: "الزمر (23-26)", page: 461},
                {text: "الزمر (25-31)", page: 461}
            ],
            24: [
                {text: "الزمر (32-37)", page: 462},
                {text: "الزمر (38-41)", page: 462},
                {text: "الزمر (41-44)", page: 463},
                {text: "الزمر (45--48)", page: 463},
                {text: "الزمر (49-53)", page: 464},
                {text: "الزمر (53-58)", page: 464},
                {text: "الزمر (58-64)", page: 465},
                {text: "الزمر (64-68)", page: 465},
                {text: "الزمر (66-70)", page: 465},
                {text: "الزمر (69-72)", page: 466},
                {text: "الزمر (73-75)", page: 466},
                {text: "غافر (1-6)", page: 467},
                {text: "غافر (7-11)", page: 467},
                {text: "غافر (12-17)", page: 468},
                {text: "غافر (14-19)", page: 468},
                {text: "غافر (18-22)", page: 469},
                {text: "غافر (23-27)", page: 469},
                {text: "غافر (28-30)", page: 470},
                {text: "غافر (30-34)", page: 470},
                {text: "غافر (34-37)", page: 471},
                {text: "غافر (38-43)", page: 471},
                {text: "غافر (44-49)", page: 472},
                {text: "غافر (49-55)", page: 472},
                {text: "غافر (56-60)", page: 473},
                {text: "غافر (61-65)", page: 474},
                {text: "غافر (66-70)", page: 474},
                {text: "غافر (69-76)", page: 475},
                {text: "غافر (77-81)", page: 475},
                {text: "غافر (82-85)", page: 476},
                {text: "غافر (83) - فصلت (5)", page: 476},
                {text: "فصلت (1-8)", page: 477},
                {text: "فصلت (9-12)", page: 477},
                {text: "فصلت (13-16)", page: 478},
                {text: "فصلت (17-22)", page: 478},
                {text: "فصلت (19-24)", page: 478},
                {text: "فصلت (23-28)", page: 479},
                {text: "فصلت (29-33)", page: 479},
                {text: "فصلت (34-38)", page: 480},
                {text: "فصلت (39-42)", page: 481},
                {text: "فصلت (43-46)", page: 481}
            ],
            25: [
                {text: "فصلت (47-50)", page: 482},
                {text: "فصلت (51) - الشورى (4)", page: 482},
                {text: "الشورى (1-7)", page: 483},
                {text: "الشورى (8-12)", page: 483},
                {text: "الشورى (12-14)", page: 484},
                {text: "الشورى (15-17)", page: 484},
                {text: "الشورى (17-21)", page: 485},
                {text: "الشورى (22-24)", page: 485},
                {text: "الشورى (25-29)", page: 486},
                {text: "الشورى (29-35)", page: 486},
                {text: "الشورى (36-41)", page: 487},
                {text: "الشورى (39-44)", page: 487},
                {text: "الشورى (45-48)", page: 488},
                {text: "الشورى (47-50)", page: 488},
                {text: "الشورى (49-53)", page: 488},
                {text: "الزخرف (1-10)", page: 489},
                {text: "الزخرف (11-18)", page: 490},
                {text: "الزخرف (19-25)", page: 490},
                {text: "الزخرف (26-32)", page: 491},
                {text: "الزخرف (33-39)", page: 491},
                {text: "الزخرف (40-48)", page: 492},
                {text: "الزخرف (49-56)", page: 493},
                {text: "الزخرف (57-64)", page: 493},
                {text: "الزخرف (65-73)", page: 494},
                {text: "الزخرف (74-83)", page: 495},
                {text: "الزخرف (84-89)", page: 495},
                {text: "الزخرف (87) - الدخان (8)", page: 495},
                {text: "الدخان (1-11)", page: 496},
                {text: "الدخان (10-21)", page: 496},
                {text: "الدخان (22-33)", page: 497},
                {text: "الدخان (34-46)", page: 497},
                {text: "الدخان (47-59)", page: 498},
                {text: "الجاثية (1-8)", page: 499},
                {text: "الجاثية (7-12)", page: 499},
                {text: "الجاثية (12-16)", page: 499},
                {text: "الجاثية (16-20)", page: 500},
                {text: "الجاثية (18-22)", page: 500},
                {text: "الجاثية (21-25)", page: 500},
                {text: "الجاثية (26-31)", page: 501},
                {text: "الجاثية (32-37)", page: 501}
            ],
            26: [
                {text: "الأحقاف (1-6)", page: 502},
                {text: "الأحقاف (7-10)", page: 503},
                {text: "الأحقاف (10-14)", page: 503},
                {text: "الأحقاف (15-16)", page: 504},
                {text: "الأحقاف (17-20)", page: 504},
                {text: "الأحقاف (21-25)", page: 505},
                {text: "الأحقاف (26-29)", page: 505},
                {text: "الأحقاف (29-32)", page: 506},
                {text: "الأحقاف (32-35)", page: 506},
                {text: "الأحقاف (34) - محمد (3)", page: 506},
                {text: "محمد (1-6)", page: 507},
                {text: "محمد (7-12)", page: 507},
                {text: "محمد (13-16)", page: 508},
                {text: "محمد (17-21)", page: 508},
                {text: "محمد (22-28)", page: 509},
                {text: "محمد (29-33)", page: 509},
                {text: "محمد (33-38)", page: 510},
                {text: "الفتح (1-5)", page: 511},
                {text: "الفتح (5-9)", page: 511},
                {text: "الفتح (8-11)", page: 511},
                {text: "الفتح (11-14)", page: 512},
                {text: "الفتح (15-17)", page: 512},
                {text: "الفتح (18-22)", page: 513},
                {text: "الفتح (22-25)", page: 513},
                {text: "الفتح (26-28)", page: 514},
                {text: "الفتح (27-29)", page: 514},
                {text: "الحجرات (1-5)", page: 515},
                {text: "الحجرات (6-9)", page: 515},
                {text: "الحجرات (9-11)", page: 516},
                {text: "الحجرات (12-14)", page: 516},
                {text: "الحجرات (14-18)", page: 517},
                {text: "ق (1-8)", page: 517},
                {text: "ق (9-16)", page: 518},
                {text: "ق (16-23)", page: 518},
                {text: "ق (23-32)", page: 519},
                {text: "ق (31-38)", page: 519},
                {text: "ق (38-45)", page: 520},
                {text: "الذاريات (1-16)", page: 520},
                {text: "الذاريات (15-25)", page: 521},
                {text: "الذاريات (22-30)", page: 521}
            ],
            27: [
                {text: "الذاريات (31-42)", page: 522},
                {text: "الذاريات (43-51)", page: 522},
                {text: "الذاريات (51-60)", page: 522},
                {text: "الطور (1-16)", page: 523},
                {text: "الطور (17-24)", page: 524},
                {text: "الطور (25-35)", page: 524},
                {text: "الطور (33-42)", page: 525},
                {text: "الطور (42-49)", page: 525},
                {text: "الطور (45) - النجم (10)", page: 525},
                {text: "النجم (1-18)", page: 526},
                {text: "النجم (19-28)", page: 526},
                {text: "النجم (29-32)", page: 527},
                {text: "النجم (33-47)", page: 527},
                {text: "النجم (48-62)", page: 528},
                {text: "القمر (1-11)", page: 528},
                {text: "القمر (10-22)", page: 529},
                {text: "القمر (23-32)", page: 529},
                {text: "القمر (33-43)", page: 530},
                {text: "القمر (44-55)", page: 530},
                {text: "الرحمن (1-15)", page: 531},
                {text: "الرحمن (14-27)", page: 531},
                {text: "الرحمن (26-37)", page: 532},
                {text: "الرحمن (37-48)", page: 532},
                {text: "الرحمن (46-61)", page: 533},
                {text: "الرحمن (62-78)", page: 533},
                {text: "الواقعة (1-18)", page: 534},
                {text: "الواقعة (19-40)", page: 535},
                {text: "الواقعة (41-56)", page: 535},
                {text: "الواقعة (57-70)", page: 536},
                {text: "الواقعة (71-85)", page: 537},
                {text: "الواقعة (83-96)", page: 537},
                {text: "الحديد (1-5)", page: 537},
                {text: "الحديد (5-9)", page: 538},
                {text: "الحديد (10-12)", page: 538},
                {text: "الحديد (13-15)", page: 539},
                {text: "الحديد (16-19)", page: 539},
                {text: "الحديد (20-21)", page: 540},
                {text: "الحديد (22-25)", page: 540},
                {text: "الحديد (25-27)", page: 541},
                {text: "الحديد (27-29)", page: 541}
            ],
            28: [
                {text: "المجادلة (1-4)", page: 542},
                {text: "المجادلة (5-7)", page: 542},
                {text: "المجادلة (8-10)", page: 543},
                {text: "المجادلة (11-13)", page: 543},
                {text: "المجادلة (14-19)", page: 544},
                {text: "المجادلة (20-22)", page: 544},
                {text: "الحشر (1-4)", page: 545},
                {text: "الحشر (5-7)", page: 546},
                {text: "الحشر (8-10)", page: 546},
                {text: "الحشر (11-14)", page: 547},
                {text: "الحشر (13-17)", page: 547},
                {text: "الحشر (15-20)", page: 547},
                {text: "الحشر (21-24)", page: 548},
                {text: "الممتحنة (1-2)", page: 549},
                {text: "الممتحنة (3-5)", page: 549},
                {text: "الممتحنة (4-7)", page: 549},
                {text: "الممتحنة (7-10)", page: 550},
                {text: "الممتحنة (10-11)", page: 550},
                {text: "الممتحنة (11-13)", page: 550},
                {text: "الصف (1-6)", page: 551},
                {text: "الصف (6-9)", page: 552},
                {text: "الصف (10-14)", page: 552},
                {text: "الصف (14) - الجمعة (3)", page: 552},
                {text: "الجمعة (1-5)", page: 553},
                {text: "الجمعة (6-9)", page: 553},
                {text: "الجمعة (8-11)", page: 553},
                {text: "المنافقون (1-5)", page: 554},
                {text: "المنافقون (5-8)", page: 555},
                {text: "المنافقون (8-11)", page: 555},
                {text: "التغابن (1-6)", page: 556},
                {text: "التغابن (7-10)", page: 556},
                {text: "التغابن (10-15)", page: 557},
                {text: "التغابن (14-18)", page: 557},
                {text: "الطلاق (1-3)", page: 558},
                {text: "الطلاق (4-6)", page: 558},
                {text: "الطلاق (7-10)", page: 559},
                {text: "الطلاق (9-12)", page: 559},
                {text: "التحريم (1-5)", page: 560},
                {text: "التحريم (6-8)", page: 561},
                {text: "التحريم (9-12)", page: 561}
            ],
            29: [
                {text: "الملك (1-7)", page: 562},
                {text: "الملك (6-12)", page: 562},
                {text: "الملك (13-19)", page: 563},
                {text: "الملك (19-24)", page: 563},
                {text: "الملك (24-30)", page: 563},
                {text: "القلم (1-16)", page: 564},
                {text: "القلم (17-31)", page: 565},
                {text: "القلم (30-41)", page: 565},
                {text: "القلم (40-47)", page: 565},
                {text: "القلم (44-52)", page: 566},
                {text: "الحاقة (1-12)", page: 566},
                {text: "الحاقة (13-24)", page: 567},
                {text: "الحاقة (25-40)", page: 567},
                {text: "الحاقة (38-52)", page: 568},
                {text: "المعارج (1-18)", page: 568},
                {text: "المعارج (19-35)", page: 569},
                {text: "المعارج (36-44)", page: 569},
                {text: "نـوح (1-8)", page: 570},
                {text: "نـوح (9-20)", page: 570},
                {text: "نـوح (21-28)", page: 571},
                {text: "نوح (26) - الجن (5)", page: 571},
                {text: "الجـن (1-8)", page: 572},
                {text: "الجـن (8-14)", page: 572},
                {text: "الجـن (13-21)", page: 572},
                {text: "الجـن (22-28)", page: 573},
                {text: "المزمل (1-13)", page: 574},
                {text: "المزمل (11-19)", page: 574},
                {text: "المزمل (20)", page: 575},
                {text: "المدثر (1-26)", page: 575},
                {text: "المدثر (27-37)", page: 576},
                {text: "المدثر (38-56)", page: 576},
                {text: "القيامة (1-21)", page: 577},
                {text: "القيامة (20-40)", page: 578},
                {text: "الإنسان (1-10)", page: 578},
                {text: "الإنسان (11-21)", page: 579},
                {text: "الإنسان (22-31)", page: 579},
                {text: "الإنسان (28)-المرسلات (13)", page: 580},
                {text: "المرسلات (1-19)", page: 580},
                {text: "المرسلات (20-34)", page: 581},
                {text: "المرسلات (35-50)", page: 581}
            ],
            30: [
                {text: "النبأ (1-17)", page: 582},
                {text: "النبأ (17-31)", page: 582},
                {text: "النبأ (31-40)", page: 583},
                {text: "النبأ (38) - النازعات (9)", page: 583},
                {text: "النازعات (1-19)", page: 583},
                {text: "النازعات (15-33)", page: 583},
                {text: "النازعات (34-46)", page: 584},
                {text: "عبـس (1-23)", page: 585},
                {text: "عبـس (24-42)", page: 585},
                {text: "التكوير (1-19)", page: 586},
                {text: "التكوير (8-29)", page: 586},
                {text: "التكوير (19) - الانفطار (5)", page: 586},
                {text: "الانفطار (6-19)", page: 587},
                {text: "المطففين (1-14)", page: 587},
                {text: "المطففين (15-28)", page: 588},
                {text: "المطففين (29)-الانشقاق (5)", page: 588},
                {text: "الانشقاق (6-21)", page: 589},
                {text: "الانشقاق (22) - البروج (9)", page: 589},
                {text: "البروج (10-22)", page: 590},
                {text: "الطارق (1-17)", page: 591},
                {text: "الأعلى (1-15)", page: 591},
                {text: "الأعلى (14) - الغاشية (16)", page: 591},
                {text: "الغاشية (17) - الفجر (8)", page: 592},
                {text: "الفجر (9-20)", page: 593},
                {text: "الفجر (17-30)", page: 593},
                {text: "البلد (1-20)", page: 594},
                {text: "الشمس (1-15)", page: 595},
                {text: "الشمس (11) - الليل (13)", page: 595},
                {text: "الليل (1-21)", page: 595},
                {text: "الضحى والشرح", page: 596},
                {text: "التين - العلق (8)", page: 597},
                {text: "العلق (9) - آخر القدر", page: 597},
                {text: "البينة (1-8)", page: 598},
                {text: "الزلزلة والعاديات", page: 599},
                {text: "القارعة - آخر التكاثر", page: 600},
                {text: "العصر - آخر الفيل", page: 601},
                {text: "قريش - آخر الكوثر", page: 602},
                {text: "الماعون- آخر الكافرون", page: 602},
                {text: "الكافرون - آخر المسد", page: 603},
                {text: "المسد - آخر الناس", page: 603}
            ]
        };

        // متغيرات التطبيق
        let currentCard = '';
        let originalBodyContent = '';

        // تحديث التاريخ والوقت
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            document.getElementById('datetime').textContent = now.toLocaleDateString('ar-EG', options);
        }

        // تسجيل الدخول
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // استرجاع كلمة السر المحفوظة أو استخدام الافتراضي
            const storedPassword = localStorage.getItem('userPassword') || '12345';
            
            if (username === 'ALFAKEH' && password === storedPassword) {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('mainPage').style.display = 'block';
                updateDateTime();
                setInterval(updateDateTime, 1000);
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        });

        // إدارة البطاقات
        function showCard(cardId) {
            // إعادة تعيين جميع الحقول
            resetAllForms();
            
            document.querySelectorAll('.card-content').forEach(card => {
                card.style.display = 'none';
            });
            document.getElementById(cardId).style.display = 'block';
            currentCard = cardId;
            
            // التمرير إلى قسم الإدخال
            document.getElementById(cardId).scrollIntoView({ behavior: 'smooth' });
        }

        function hideCards() {
            document.querySelectorAll('.card-content').forEach(card => {
                card.style.display = 'none';
            });
            currentCard = '';
            
            // التمرير إلى الأعلى
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // إعادة تعيين جميع النماذج
        function resetAllForms() {
            // بطاقة الحافظ الصغير
            document.getElementById('hafezName').value = '';
            document.getElementById('centerName').value = '';
            document.getElementById('age').value = '';
            document.getElementById('hafezParts').value = '';
            document.getElementById('partsSelection').style.display = 'none';
            document.getElementById('allPartsText').style.display = 'none';
            document.getElementById('partsCheckboxes').innerHTML = '';
            document.getElementById('hafezError').style.display = 'none';
            document.getElementById('hafezLoader').style.display = 'none';
            document.getElementById('hafezResult').style.display = 'none';
            document.getElementById('hafezResult').innerHTML = '';
            
            // بطاقة الاختبار العشوائي
            document.getElementById('testName').value = '';
            document.getElementById('testParts').value = '';
            document.getElementById('testPartsSelection').style.display = 'none';
            document.getElementById('testAllPartsText').style.display = 'none';
            document.getElementById('testPartsCheckboxes').innerHTML = '';
            document.getElementById('positionsPerPart').value = '1';
            document.getElementById('testError').style.display = 'none';
            document.getElementById('testLoader').style.display = 'none';
            document.getElementById('testResult').style.display = 'none';
            document.getElementById('testResult').innerHTML = '';
            
            // بطاقة تغيير الموضع
            document.getElementById('partNumber').value = '';
            document.getElementById('positionError').style.display = 'none';
            document.getElementById('positionLoader').style.display = 'none';
            document.getElementById('positionResult').style.display = 'none';
            document.getElementById('positionResult').innerHTML = '';
        }

        // تحديث اختيار الأجزاء لبطاقة الحافظ
        function updatePartsSelection() {
            const partsCount = document.getElementById('hafezParts').value;
            const partsSelection = document.getElementById('partsSelection');
            const allPartsText = document.getElementById('allPartsText');
            const partsCheckboxes = document.getElementById('partsCheckboxes');
            
            if (!partsCount) {
                partsSelection.style.display = 'none';
                return;
            }
            
            partsSelection.style.display = 'block';
            
            if (partsCount === '30') {
                allPartsText.style.display = 'block';
                partsCheckboxes.style.display = 'none';
            } else {
                allPartsText.style.display = 'none';
                partsCheckboxes.style.display = 'grid';
                partsCheckboxes.innerHTML = '';
                
                for (let i = 1; i <= 30; i++) {
                    const checkbox = document.createElement('div');
                    checkbox.className = 'part-checkbox';
                    checkbox.innerHTML = `
                        <input type="checkbox" id="part${i}" name="part" value="${i}">
                        <label for="part${i}">الجزء ${i}</label>
                    `;
                    partsCheckboxes.appendChild(checkbox);
                }
            }
        }

        // تحديث اختيار الأجزاء لبطاقة الاختبار العشوائي
        function updateTestPartsSelection() {
            const partsCount = parseInt(document.getElementById('testParts').value);
            const partsSelection = document.getElementById('testPartsSelection');
            const allPartsText = document.getElementById('testAllPartsText');
            const partsCheckboxes = document.getElementById('testPartsCheckboxes');
            
            if (!partsCount || partsCount < 1 || partsCount > 30) {
                partsSelection.style.display = 'none';
                return;
            }
            
            partsSelection.style.display = 'block';
            
            if (partsCount === 30) {
                allPartsText.style.display = 'block';
                partsCheckboxes.style.display = 'none';
            } else {
                allPartsText.style.display = 'none';
                partsCheckboxes.style.display = 'grid';
                partsCheckboxes.innerHTML = '';
                
                for (let i = 1; i <= 30; i++) {
                    const checkbox = document.createElement('div');
                    checkbox.className = 'part-checkbox';
                    checkbox.innerHTML = `
                        <input type="checkbox" id="testPart${i}" name="testPart" value="${i}">
                        <label for="testPart${i}">الجزء ${i}</label>
                    `;
                    partsCheckboxes.appendChild(checkbox);
                }
            }
        }

        // تحديد عدد المواضع المطلوبة بناءً على عدد الأجزاء
        const positionsCountMap = {
            3: 3, 5: 3, 7: 4, 9: 5, 10: 5,
            12: 6, 15: 8, 20: 10, 25: 13, 30: 15
        };

        // دالة لخلط المصفوفة عشوائياً (فعالة)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // اختيار أجزاء متباعدة ومتوازنة
        function selectDistantParts(parts, count) {
            // إذا كان العدد المطلوب أكبر من أو يساوي الأجزاء المتاحة
            if (count >= parts.length) {
                return shuffleArray(parts).slice(0, count);
            }
            
            // فرز الأجزاء
            const sortedParts = [...parts].sort((a, b) => a - b);
            const selected = [];
            
            // تقسيم الأجزاء إلى ثلاث فئات: البداية، الوسط، النهاية
            const third = Math.floor(sortedParts.length / 3);
            const startGroup = sortedParts.slice(0, third);
            const middleGroup = sortedParts.slice(third, 2 * third);
            const endGroup = sortedParts.slice(2 * third);
            
            // توزيع الاختيار على الفئات بشكل متوازن
            const perGroup = Math.ceil(count / 3);
            
            // اختيار من بداية الأجزاء
            if (startGroup.length > 0) {
                const startSelection = shuffleArray(startGroup).slice(0, Math.min(perGroup, startGroup.length));
                selected.push(...startSelection);
            }
            
            // اختيار من وسط الأجزاء
            if (middleGroup.length > 0 && selected.length < count) {
                const needed = count - selected.length;
                const middleSelection = shuffleArray(middleGroup).slice(0, Math.min(perGroup, middleGroup.length, needed));
                selected.push(...middleSelection);
            }
            
            // اختيار من نهاية الأجزاء
            if (endGroup.length > 0 && selected.length < count) {
                const needed = count - selected.length;
                const endSelection = shuffleArray(endGroup).slice(0, Math.min(perGroup, endGroup.length, needed));
                selected.push(...endSelection);
            }
            
            // إذا لم نحصل على العدد المطلوب، نكمل بشكل عشوائي
            if (selected.length < count) {
                const remaining = sortedParts.filter(part => !selected.includes(part));
                const additional = shuffleArray(remaining).slice(0, count - selected.length);
                selected.push(...additional);
            }
            
            return selected.sort((a, b) => a - b);
        }

        // سحب بطاقة الحافظ الصغير
        function drawHafez() {
            const name = document.getElementById('hafezName').value;
            const center = document.getElementById('centerName').value;
            const age = document.getElementById('age').value;
            const partsCount = parseInt(document.getElementById('hafezParts').value);
            const errorElement = document.getElementById('hafezError');
            const loader = document.getElementById('hafezLoader');
            const resultContainer = document.getElementById('hafezResult');
            
            // التحقق من صحة البيانات
            if (!name) {
                errorElement.textContent = 'الرجاء إدخال اسم الممتحن';
                errorElement.style.display = 'block';
                return;
            }
            
            if (!center) {
                errorElement.textContent = 'الرجاء إدخال اسم المركز';
                errorElement.style.display = 'block';
                return;
            }
            
            if (!age) {
                errorElement.textContent = 'الرجاء إدخال العمر';
                errorElement.style.display = 'block';
                return;
            }
            
            if (!partsCount) {
                errorElement.textContent = 'الرجاء اختيار عدد الأجزاء';
                errorElement.style.display = 'block';
                return;
            }
            
            let selectedParts = [];
            
            if (partsCount === 30) {
                // اختيار كل الأجزاء
                for (let i = 1; i <= 30; i++) {
                    selectedParts.push(i);
                }
            } else {
                // جمع الأجزاء المختارة
                const checkboxes = document.querySelectorAll('#partsCheckboxes input[type="checkbox"]:checked');
                if (checkboxes.length !== partsCount) {
                    errorElement.textContent = `الرجاء اختيار ${partsCount} أجزاء فقط`;
                    errorElement.style.display = 'block';
                    return;
                }
                
                checkboxes.forEach(checkbox => {
                    selectedParts.push(parseInt(checkbox.value));
                });
            }
            
            errorElement.style.display = 'none';
            loader.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // محاكاة التأخير للعرض
            setTimeout(() => {
                // اختيار أجزاء عشوائية مع مراعاة التباعد والتوازن
                const selectedPartsForTest = selectDistantParts(selectedParts, positionsCountMap[partsCount]);
                
                // اختيار مواضع عشوائية
                const positions = [];
                selectedPartsForTest.forEach(part => {
                    const partPositions = quranPositions[part];
                    const randomIndex = Math.floor(Math.random() * partPositions.length);
                    positions.push({
                        part: part,
                        position: partPositions[randomIndex].text,
                        page: partPositions[randomIndex].page
                    });
                });
                
                // ترتيب النتائج حسب الجزء
                positions.sort((a, b) => a.part - b.part);
                
                // عرض النتائج
                displayHafezResults(name, center, age, partsCount, selectedParts, positions);
                loader.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // التمرير إلى النتائج
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }, 1500);
        }

        // عرض نتائج سحب الحافظ
        function displayHafezResults(name, center, age, level, selectedParts, positions) {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ar-EG', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            let partsList = selectedParts.join('، ');
            if (selectedParts.length === 30) {
                partsList = 'القرآن الكريم كاملاً';
            }
            
            let tableHTML = `
                <div class="result-header">نتائج السحب الإلكتروني</div>
                <div class="result-info">
                    <div class="info-row">
                        <span class="info-label">اسم الممتحن:</span>
                        <span>${name}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">اسم المركز:</span>
                        <span>${center}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">العمر:</span>
                        <span>${age}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">تاريخ الامتحان:</span>
                        <span>${dateStr}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">المستوى:</span>
                        <span>${level} أجزاء</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">الأجزاء المختارة:</span>
                        <span>${partsList}</span>
                    </div>
                </div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>الجزء</th>
                            <th>الموضع</th>
                            <th>الصفحة</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            positions.forEach(pos => {
                tableHTML += `
                    <tr>
                        <td>${pos.part}</td>
                        <td>${pos.position}</td>
                        <td>${pos.page}</td>
                    </tr>
                `;
            });
            
            tableHTML += `
                    </tbody>
                </table>
                <button class="print-btn" onclick="printResult('hafezResult')">
                    <i class="fas fa-print"></i> طباعة النتائج
                </button>
                <button class="save-pdf-btn" onclick="saveAsPDF('${name}', 'hafezResult')">
                    <i class="fas fa-file-pdf"></i> حفظ كملف PDF
                </button>
            `;
            
            document.getElementById('hafezResult').innerHTML = tableHTML;
        }

        // دالة مساعدة لتقسيم المصفوفة إلى أقسام متساوية
        function splitArray(array, numChunks) {
            const result = [];
            const chunkSize = Math.ceil(array.length / numChunks);
            for (let i = 0; i < array.length; i += chunkSize) {
                const chunk = array.slice(i, i + chunkSize);
                result.push(chunk);
            }
            return result;
        }

        // سحب بطاقة الاختبار العشوائي (مُحسّن للأداء)
        function drawRandomTest() {
            const name = document.getElementById('testName').value;
            const partsCount = parseInt(document.getElementById('testParts').value);
            const positionsPerPart = parseInt(document.getElementById('positionsPerPart').value) || 1;
            const errorElement = document.getElementById('testError');
            const loader = document.getElementById('testLoader');
            const resultContainer = document.getElementById('testResult');
            
            // التحقق من صحة البيانات
            if (!name) {
                errorElement.textContent = 'الرجاء إدخال اسم الممتحن';
                errorElement.style.display = 'block';
                return;
            }
            
            if (!partsCount || partsCount < 1 || partsCount > 30) {
                errorElement.textContent = 'الرجاء إدخال عدد أجزاء صحيح بين 1 و 30';
                errorElement.style.display = 'block';
                return;
            }
            
            if (positionsPerPart < 1 || positionsPerPart > 5) {
                errorElement.textContent = 'عدد المواضع في كل جزء يجب أن يكون بين 1 و 5';
                errorElement.style.display = 'block';
                return;
            }
            
            let selectedParts = [];
            
            if (partsCount === 30) {
                // اختيار كل الأجزاء
                for (let i = 1; i <= 30; i++) {
                    selectedParts.push(i);
                }
            } else {
                // جمع الأجزاء المختارة
                const checkboxes = document.querySelectorAll('#testPartsCheckboxes input[type="checkbox"]:checked');
                if (checkboxes.length !== partsCount) {
                    errorElement.textContent = `الرجاء اختيار ${partsCount} أجزاء فقط`;
                    errorElement.style.display = 'block';
                    return;
                }
                
                checkboxes.forEach(checkbox => {
                    selectedParts.push(parseInt(checkbox.value));
                });
            }
            
            errorElement.style.display = 'none';
            loader.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // محاكاة التأخير للعرض
            setTimeout(() => {
                // اختيار مواضع عشوائية من كل جزء (طريقة فعالة)
                const positions = [];
                selectedParts.forEach(part => {
                    const partPositions = [...quranPositions[part]];
                    
                    // إذا كان الموضع واحداً فقط، نختار واحداً عشوائياً
                    if (positionsPerPart === 1) {
                        const randomIndex = Math.floor(Math.random() * partPositions.length);
                        positions.push({
                            part: part,
                            positions: [{
                                text: partPositions[randomIndex].text,
                                page: partPositions[randomIndex].page
                            }]
                        });
                    } else {
                        // تقسيم المواضع إلى أقسام متساوية حسب العدد المطلوب
                        const chunks = splitArray(partPositions, positionsPerPart);
                        const selectedPositions = [];
                        
                        // اختيار موضع واحد من كل قسم
                        chunks.forEach(chunk => {
                            const randomIndex = Math.floor(Math.random() * chunk.length);
                            selectedPositions.push(chunk[randomIndex]);
                        });
                        
                        // ترتيب المواضع حسب الصفحة
                        selectedPositions.sort((a, b) => a.page - b.page);
                        
                        positions.push({
                            part: part,
                            positions: selectedPositions.map(p => ({
                                text: p.text,
                                page: p.page
                            }))
                        });
                    }
                });
                
                // ترتيب النتائج حسب الجزء
                positions.sort((a, b) => a.part - b.part);
                
                // عرض النتائج
                displayRandomTestResults(name, partsCount, positionsPerPart, positions);
                loader.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // التمرير إلى النتائج
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }, 500); // زمن أقل للأداء
        }

        // عرض نتائج الاختبار العشوائي
        function displayRandomTestResults(name, partsCount, positionsPerPart, positions) {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ar-EG', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            let partsList = positions.map(p => p.part).join('، ');
            if (positions.length === 30) {
                partsList = 'القرآن الكريم كاملاً';
            }
            
            let tableHTML = `
                <div class="result-header">نتائج السحب الإلكتروني</div>
                <div class="result-info">
                    <div class="info-row">
                        <span class="info-label">اسم الممتحن:</span>
                        <span>${name}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">تاريخ الامتحان:</span>
                        <span>${dateStr}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">عدد الأجزاء:</span>
                        <span>${partsCount}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">المواضع في كل جزء:</span>
                        <span>${positionsPerPart}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">الأجزاء المختارة:</span>
                        <span>${partsList}</span>
                    </div>
                </div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>الجزء</th>
                            <th>المواضع</th>
                            <th>الصفحات</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            positions.forEach(part => {
                const positionsHTML = part.positions.map(p => p.text).join('<br>');
                const pagesHTML = part.positions.map(p => p.page).join('<br>');
                
                tableHTML += `
                    <tr>
                        <td>${part.part}</td>
                        <td>${positionsHTML}</td>
                        <td>${pagesHTML}</td>
                    </tr>
                `;
            });
            
            tableHTML += `
                    </tbody>
                </table>
                <button class="print-btn" onclick="printResult('testResult')">
                    <i class="fas fa-print"></i> طباعة النتائج
                </button>
                <button class="save-pdf-btn" onclick="saveAsPDF('${name}', 'testResult')">
                    <i class="fas fa-file-pdf"></i> حفظ كملف PDF
                </button>
            `;
            
            document.getElementById('testResult').innerHTML = tableHTML;
        }

        // تغيير موضع في جزء معين
        function changePosition() {
            const partNumber = parseInt(document.getElementById('partNumber').value);
            const errorElement = document.getElementById('positionError');
            const loader = document.getElementById('positionLoader');
            const resultContainer = document.getElementById('positionResult');
            
            // التحقق من صحة البيانات
            if (isNaN(partNumber) || partNumber < 1 || partNumber > 30) {
                errorElement.textContent = 'الرجاء إدخال رقم جزء صحيح بين 1 و 30';
                errorElement.style.display = 'block';
                return;
            }
            
            errorElement.style.display = 'none';
            loader.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // محاكاة التأخير للعرض
            setTimeout(() => {
                // اختيار موضع عشوائي من الجزء
                const partPositions = quranPositions[partNumber];
                const randomIndex = Math.floor(Math.random() * partPositions.length);
                const position = partPositions[randomIndex];
                
                // عرض النتائج
                displayPositionResult(partNumber, position);
                loader.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // التمرير إلى النتائج
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }, 1000);
        }

        // عرض نتيجة تغيير الموضع
        function displayPositionResult(part, position) {
            const resultHTML = `
                <div class="result-header">نتيجة السحب العشوائي</div>
                <div class="result-info">
                    <div class="info-row">
                        <span class="info-label">رقم الجزء:</span>
                        <span>${part}</span>
                    </div>
                </div>
                <div style="text-align: center; padding: 30px; font-size: 24px; color: var(--primary-color);">
                    الموضع المختار:<br>
                    <strong>${position.text}</strong><br>
                    الصفحة: <strong>${position.page}</strong>
                </div>
                <button class="print-btn" onclick="printResult('positionResult')">
                    <i class="fas fa-print"></i> طباعة النتائج
                </button>
                <button class="save-pdf-btn" onclick="saveAsPDF('تغيير_موضع', 'positionResult')">
                    <i class="fas fa-file-pdf"></i> حفظ كملف PDF
                </button>
            `;
            
            document.getElementById('positionResult').innerHTML = resultHTML;
        }

        // طباعة النتائج
        function printResult(resultId) {
            const printContent = document.getElementById(resultId).innerHTML;
            originalBodyContent = document.body.innerHTML;
            
            const now = new Date();
            const dateStr = now.toLocaleDateString('ar-EG', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.body.innerHTML = `
                <div class="print-section">
                    <div class="print-header">جمعية المحافظة على القرآن الكريم/ فرع الكورة</div>
                    <div class="print-date">تاريخ الطباعة: ${dateStr}</div>
                    ${printContent}
                    <div class="print-footer">
                        جمعية المحافظة على القرآن الكريم / مركز كفرأبيل القرآني - م.مأمون محمود الفقيه
                    </div>
                </div>
                <button class="print-btn no-print" onclick="window.print()" style="margin: 20px auto; display: block;">
                    <i class="fas fa-print"></i> طباعة
                </button>
                <button class="back-btn no-print" onclick="restoreContent()" style="margin: 10px auto; display: block;">
                    <i class="fas fa-arrow-left"></i> العودة
                </button>
            `;
            
            // إخفاء أزرار الحفظ والطباعة في النسخة المطبوعة
            const printButtons = document.querySelectorAll('.print-btn, .save-pdf-btn');
            printButtons.forEach(button => {
                button.classList.add('no-print');
            });
            
            window.print();
        }

        // استعادة المحتوى الأصلي بعد الطباعة
        function restoreContent() {
            document.body.innerHTML = originalBodyContent;
        }

        // حفظ النتائج كملف PDF بنفس شكل الطباعة
        function saveAsPDF(fileName, resultId) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'mm', 'a4');
            
            // استخراج محتوى النتائج
            const content = document.getElementById(resultId).innerHTML;
            
            const now = new Date();
            const dateStr = now.toLocaleDateString('ar-EG', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // بناء محتوى الطباعة بنفس التنسيق
            const printContent = `
                <div style="direction: rtl; font-family: 'Tajawal', sans-serif; padding: 20px; background: white; color: black; font-size: 12pt;">
                    <div style="text-align:center;font-weight:bold;margin-bottom:15px">
                        جمعية المحافظة على القرآن الكريم/ فرع الكورة
                    </div>
                    <div style="text-align:left;margin-bottom:15px">
                        تاريخ الطباعة: ${dateStr}
                    </div>
                    ${content}
                    <div style="text-align:center;font-size:10pt;margin-top:20px;border-top:1px solid #ccc;padding-top:10px">
                        جمعية المحافظة على القرآن الكريم / مركز كفرأبيل القرآني - م.مأمون محمود الفقيه
                    </div>
                </div>
            `;
            
            // إنشاء عنصر مؤقت
            const tempElement = document.createElement('div');
            tempElement.style.position = 'absolute';
            tempElement.style.left = '-9999px';
            tempElement.innerHTML = printContent;
            document.body.appendChild(tempElement);
            
            html2canvas(tempElement, {
                scale: 2,
                useCORS: true,
                logging: false,
                backgroundColor: '#ffffff'
            }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = doc.internal.pageSize.getWidth() - 20;
                const pageHeight = doc.internal.pageSize.getHeight();
                const imgHeight = canvas.height * imgWidth / canvas.width;
                
                doc.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);
                doc.save(`${fileName}_نتيجة_السحب.pdf`);
                
                document.body.removeChild(tempElement);
            });
        }

        // إدارة تغيير كلمة السر
        function closePasswordModal() {
            document.getElementById('changePassword').style.display = 'none';
            document.getElementById('passwordError').style.display = 'none';
            document.getElementById('passwordSuccess').style.display = 'none';
        }

        function updatePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const errorElement = document.getElementById('passwordError');
            const successElement = document.getElementById('passwordSuccess');
            
            // استرجاع كلمة السر الحالية من localStorage أو استخدام الافتراضي
            const storedPassword = localStorage.getItem('userPassword') || '12345';
            
            if (currentPassword !== storedPassword) {
                errorElement.textContent = 'كلمة السر الحالية غير صحيحة';
                errorElement.style.display = 'block';
                return;
            }
            
            if (newPassword.length < 6) {
                errorElement.textContent = 'كلمة السر الجديدة يجب أن تكون 6 أحرف على الأقل';
                errorElement.style.display = 'block';
                return;
            }
            
            if (newPassword !== confirmPassword) {
                errorElement.textContent = 'كلمة السر وتأكيدها غير متطابقين';
                errorElement.style.display = 'block';
                return;
            }
            
            // حفظ كلمة السر الجديدة في localStorage
            localStorage.setItem('userPassword', newPassword);
            
            // إظهار رسالة نجاح
            successElement.textContent = 'تم تغيير كلمة السر بنجاح!';
            successElement.style.display = 'block';
            
            // إعادة تعيين الحقول
            setTimeout(() => {
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
                closePasswordModal();
            }, 2000);
        }

        // تسجيل الخروج
        document.getElementById('logoutBtn').addEventListener('click', function() {
            // تفريغ حقل كلمة السر
            document.getElementById('password').value = '';
            
            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('loginPage').style.display = 'flex';
            resetAllForms();
        });

        // تهيئة الواجهة
        document.addEventListener('DOMContentLoaded', function() {
            // إظهار نافذة تغيير كلمة السر عند الضغط على الزر
            document.getElementById('changePasswordBtn').addEventListener('click', function() {
                document.getElementById('changePassword').style.display = 'flex';
            });
        });
    </script>
</body>
</html>